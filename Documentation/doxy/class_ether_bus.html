<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INET Framework for OMNeT++/OMNEST: EtherBus Class Reference</title>
<link href="opp.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>EtherBus Class Reference</h1><a href="class_ether_bus-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Implements the bus which connects hosts, switches and other LAN entities on an Ethernet LAN. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#a0">EtherBus</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#a1">~EtherBus</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#b0">initialize</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#b1">handleMessage</a> (cMessage *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#b2">finish</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#b3">tokenize</a> (const char *str, std::vector&lt; double &gt; &amp;array)</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#r0">propagationSpeed</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_bus_tap.html">BusTap</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#r1">tap</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#r2">taps</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_bus.html#r3">numMessages</a></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="EtherBus::EtherBus"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">EtherBus::EtherBus           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00078 {
00079     <a class="code" href="class_ether_bus.html#r1">tap</a> = NULL;
00080 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="EtherBus::~EtherBus"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">EtherBus::~<a class="el" href="class_ether_bus.html">EtherBus</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00083 {
00084     <span class="keyword">delete</span> [] <a class="code" href="class_ether_bus.html#r1">tap</a>;
00085 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b2" doxytag="EtherBus::finish"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherBus::finish           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00245 {
00246     <span class="keywordflow">if</span> (par(<span class="stringliteral">"writeScalars"</span>).boolValue())
00247     {
00248         <span class="keywordtype">double</span> t = simTime();
00249         recordScalar(<span class="stringliteral">"simulated time"</span>, t);
00250         recordScalar(<span class="stringliteral">"messages handled"</span>, numMessages);
00251         <span class="keywordflow">if</span> (t&gt;0)
00252             recordScalar("messages/sec", numMessages/t);
00253     }
00254 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="EtherBus::handleMessage"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherBus::handleMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00168 {
00169     <span class="keywordflow">if</span> (!msg-&gt;isSelfMessage())
00170     {
00171         <span class="comment">// Handle frame sent down from the network entity</span>
00172         <span class="keywordtype">int</span> tapPoint = msg-&gt;arrivalGate()-&gt;index();
00173         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Frame "</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">" arrived on tap "</span> &lt;&lt; tapPoint &lt;&lt; endl;
00174 
00175         <span class="comment">// create upstream and downstream events</span>
00176         <span class="keywordflow">if</span> (tapPoint&gt;0)
00177         {
00178             <span class="comment">// start UPSTREAM travel</span>
00179             cMessage *event = <span class="keyword">new</span> cMessage(<span class="stringliteral">"upstream"</span>, UPSTREAM);
00180             event-&gt;setContextPointer(&amp;tap[tapPoint-1]);
00181             <span class="comment">// if goes downstream too, we need to make a copy</span>
00182             cMessage *msg2 = (tapPoint&lt;<a class="code" href="class_ether_bus.html#r2">taps</a>-1) ? (cMessage *)msg-&gt;dup() : msg;
00183             event-&gt;encapsulate(msg2);
00184             scheduleAt(simTime()+tap[tapPoint].propagationDelay[UPSTREAM], event);
00185         }
00186         <span class="keywordflow">if</span> (tapPoint&lt;taps-1)
00187         {
00188             <span class="comment">// start DOWNSTREAM travel</span>
00189             cMessage *event = <span class="keyword">new</span> cMessage(<span class="stringliteral">"downstream"</span>, DOWNSTREAM);
00190             event-&gt;setContextPointer(&amp;tap[tapPoint+1]);
00191             event-&gt;encapsulate(msg);
00192             scheduleAt(simTime()+tap[tapPoint].propagationDelay[DOWNSTREAM], event);
00193         }
00194         <span class="keywordflow">if</span> (taps==1)
00195         {
00196             <span class="comment">// if there's only one tap, there's nothing to do</span>
00197             <span class="keyword">delete</span> msg;
00198         }
00199     }
00200     <span class="keywordflow">else</span>
00201     {
00202         <span class="comment">// handle upstream and downstream events</span>
00203         <span class="keywordtype">int</span> direction = msg-&gt;kind();
00204         <a class="code" href="struct_bus_tap.html">BusTap</a> *thistap = (<a class="code" href="struct_bus_tap.html">BusTap</a> *) msg-&gt;contextPointer();
00205         <span class="keywordtype">int</span> tapPoint = thistap-&gt;<a class="code" href="struct_bus_tap.html#o0">id</a>;
00206 
00207         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Event "</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">" on tap "</span> &lt;&lt; tapPoint &lt;&lt; <span class="stringliteral">", sending out frame\n"</span>;
00208 
00209         <span class="comment">// send out on gate</span>
00210         <span class="keywordtype">bool</span> isLast = (direction==<a class="code" href="_ether_bus_8cc.html#a0">UPSTREAM</a>) ? (tapPoint==0) : (tapPoint==<a class="code" href="class_ether_bus.html#r2">taps</a>-1);
00211         cMessage *msg2 = isLast ? msg-&gt;decapsulate() : (cMessage *)msg-&gt;encapsulatedMsg()-&gt;dup();
00212         send(msg2, <span class="stringliteral">"out"</span>, tapPoint);
00213 
00214         <span class="comment">// if not end of the bus, schedule for next tap</span>
00215         <span class="keywordflow">if</span> (isLast)
00216         {
00217             <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"End of bus reached\n"</span>;
00218             <span class="keyword">delete</span> msg;
00219         }
00220         <span class="keywordflow">else</span>
00221         {
00222             <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Scheduling for next tap\n"</span>;
00223             <span class="keywordtype">int</span> nextTap = (direction==<a class="code" href="_ether_bus_8cc.html#a0">UPSTREAM</a>) ? (tapPoint-1) : (tapPoint+1);
00224             msg-&gt;setContextPointer(&amp;tap[nextTap]);
00225             scheduleAt(simTime()+tap[tapPoint].propagationDelay[direction], msg);
00226         }
00227     }
00228 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="EtherBus::initialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherBus::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00088 {
00089     <a class="code" href="class_ether_bus.html#r3">numMessages</a> = 0;
00090     WATCH(numMessages);
00091 
00092     <a class="code" href="class_ether_bus.html#r0">propagationSpeed</a> = par(<span class="stringliteral">"propagationSpeed"</span>).doubleValue();
00093 
00094     <span class="comment">// initialize the positions where the hosts connects to the bus</span>
00095     <a class="code" href="class_ether_bus.html#r2">taps</a> = gate(<span class="stringliteral">"in"</span>,0)-&gt;size();
00096     <span class="keywordflow">if</span> (gate(<span class="stringliteral">"out"</span>,0)-&gt;size()!=taps)
00097         error("the sizes of the in[] and out[] gate vectors must be the same");
00098 
00099     <span class="comment">// read positions and check if positions are defined in order (we're lazy to sort...)</span>
00100     std::vector&lt;<span class="keywordtype">double</span>&gt; pos;
00101     tokenize(par("positions").stringValue(), pos);
00102     <span class="keywordtype">int</span> numPos = pos.size();
00103     if (numPos&gt;taps)
00104         EV &lt;&lt; "Note: `positions' parameter contains more values ("&lt;&lt; numPos &lt;&lt; ") than "
00105               "the number of taps (" &lt;&lt; taps &lt;&lt; "), ignoring excess values.\n";
00106     else if (numPos&lt;taps &amp;&amp; numPos&gt;=2)
00107         EV &lt;&lt; "Note: `positions' parameter contains less values ("&lt;&lt; numPos &lt;&lt; ") than "
00108               "the number of taps (" &lt;&lt; taps &lt;&lt; "), repeating distance between last 2 positions.\n";
00109     else if (numPos&lt;taps &amp;&amp; numPos&lt;2)
00110         EV &lt;&lt; "Note: `positions' parameter contains too few values, using 5m distances.\n";
00111 
00112     tap = new <a class="code" href="struct_bus_tap.html">BusTap</a>[taps];
00113 
00114     <span class="keywordtype">int</span> i;
00115     <span class="keywordtype">double</span> distance = numPos&gt;=2 ? pos[numPos-1]-pos[numPos-2] : 5;
00116     for (i=0; i&lt;taps; i++)
00117     {
00118         <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o0">id</a> = i;
00119         <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o1">position</a> = i&lt;numPos ? pos[i] : i==0 ? 5 : <a class="code" href="class_ether_bus.html#r1">tap</a>[i-1].<a class="code" href="struct_bus_tap.html#o1">position</a>+distance;
00120     }
00121     <span class="keywordflow">for</span> (i=0; i&lt;taps-1; i++)
00122     {
00123         <span class="keywordflow">if</span> (tap[i].position &gt; tap[i+1].position)
00124             error("Tap positions must be ordered in ascending fashion, modify 'positions' parameter and rerun\n");
00125     }
00126 
00127     <span class="comment">// Calculate propagation of delays between tap points on the bus</span>
00128     for (i=0; i&lt;taps; i++)
00129     {
00130         <span class="comment">// Propagation delay between adjacent tap points</span>
00131         <span class="keywordflow">if</span> (i == 0) {
00132             <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a0">UPSTREAM</a>] = 0;
00133             <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a1">DOWNSTREAM</a>] = (<a class="code" href="class_ether_bus.html#r1">tap</a>[i+1].<a class="code" href="struct_bus_tap.html#o1">position</a> - <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o1">position</a>)/<a class="code" href="class_ether_bus.html#r0">propagationSpeed</a>;
00134         }
00135         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == taps-1) {
00136             <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a0">UPSTREAM</a>] = <a class="code" href="class_ether_bus.html#r1">tap</a>[i-1].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a1">DOWNSTREAM</a>];
00137             <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a1">DOWNSTREAM</a>] = 0;
00138         }
00139         <span class="keywordflow">else</span> {
00140             <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a0">UPSTREAM</a>] = <a class="code" href="class_ether_bus.html#r1">tap</a>[i-1].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a1">DOWNSTREAM</a>];
00141             <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a1">DOWNSTREAM</a>] = (<a class="code" href="class_ether_bus.html#r1">tap</a>[i+1].<a class="code" href="struct_bus_tap.html#o1">position</a> - <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o1">position</a>)/<a class="code" href="class_ether_bus.html#r0">propagationSpeed</a>;;
00142         }
00143     }
00144 
00145     <span class="comment">// Prints out data of parameters for parameter checking...</span>
00146     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Parameters of ("</span> &lt;&lt; className() &lt;&lt; <span class="stringliteral">") "</span> &lt;&lt; fullPath() &lt;&lt; <span class="stringliteral">"\n"</span>;
00147     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"propagationSpeed: "</span> &lt;&lt; <a class="code" href="class_ether_bus.html#r0">propagationSpeed</a> &lt;&lt; <span class="stringliteral">"\n"</span>;
00148     <span class="keywordflow">for</span> (i=0; i&lt;taps; i++)
00149     {
00150         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"tap["</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">"] pos: "</span> &lt;&lt; <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o1">position</a> &lt;&lt;
00151               <span class="stringliteral">"  upstream delay: "</span> &lt;&lt; <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a0">UPSTREAM</a>] &lt;&lt;
00152               <span class="stringliteral">"  downstream delay: "</span> &lt;&lt; <a class="code" href="class_ether_bus.html#r1">tap</a>[i].<a class="code" href="struct_bus_tap.html#o2">propagationDelay</a>[<a class="code" href="_ether_bus_8cc.html#a1">DOWNSTREAM</a>] &lt;&lt; endl;
00153     }
00154     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"\n"</span>;
00155 
00156     <span class="comment">// autoconfig: tell everyone that bus supports only 10Mb half-duplex</span>
00157     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Autoconfig: advertising that we only support 10Mb half-duplex operation\n"</span>;
00158     <span class="keywordflow">for</span> (i=0; i&lt;taps; i++)
00159     {
00160         <a class="code" href="class_ether_autoconfig.html">EtherAutoconfig</a> *autoconf = <span class="keyword">new</span> <a class="code" href="class_ether_autoconfig.html">EtherAutoconfig</a>(<span class="stringliteral">"autoconf-10Mb-halfduplex"</span>);
00161         autoconf-&gt;<a class="code" href="class_ether_autoconfig.html#a10">setHalfDuplex</a>(<span class="keyword">true</span>);
00162         autoconf-&gt;<a class="code" href="class_ether_autoconfig.html#a8">setTxrate</a>(10000000); <span class="comment">// 10Mb</span>
00163         send(autoconf,<span class="stringliteral">"out"</span>,i);
00164     }
00165 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b3" doxytag="EtherBus::tokenize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherBus::tokenize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>array</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00231 {
00232     <span class="keywordtype">char</span> *str2 = opp_strdup(str);
00233     <span class="keywordflow">if</span> (!str2) return;
00234         <span class="keywordtype">char</span> *s = strtok(str2, " ");
00235     while (s)
00236     {
00237         array.push_back(atof(s));
00238         s = strtok(NULL, <span class="stringliteral">" "</span>);
00239     }
00240     <span class="keyword">delete</span> [] str2;
00241 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r3" doxytag="EtherBus::numMessages"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long <a class="el" href="class_ether_bus.html#r3">EtherBus::numMessages</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="EtherBus::propagationSpeed"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ether_bus.html#r0">EtherBus::propagationSpeed</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="EtherBus::tap"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct_bus_tap.html">BusTap</a>* <a class="el" href="class_ether_bus.html#r1">EtherBus::tap</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r2" doxytag="EtherBus::taps"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_ether_bus.html#r2">EtherBus::taps</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_ether_bus_8cc.html">EtherBus.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 18:22:21 2006 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
