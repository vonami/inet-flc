<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INET Framework for OMNeT++/OMNEST: QueueWithQoS Class Reference</title>
<link href="opp.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>QueueWithQoS Class Reference</h1><code>#include &lt;QueueWithQoS.h&gt;</code>
<p>
<p>Inheritance diagram for QueueWithQoS:
<p><center><img src="class_queue_with_qo_s.png" usemap="#QueueWithQoS_map" border="0" alt=""></center>
<map name="QueueWithQoS_map">
<area href="class_abstract_queue.html" alt="AbstractQueue" shape="rect" coords="0,0,99,24">
</map>
<a href="class_queue_with_qo_s-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Queue with constant processing time, with integrated QoS behaviour. Processing time is taken from the "procDelay" module parameter, and QoS class from the "qosBehaviourClass" module parameter.<p>
Leaves the <a class="el" href="class_abstract_queue.html#z14_3">endService(cMessage *msg)</a> method of <a class="el" href="class_abstract_queue.html">AbstractQueue</a> undefined. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#a0">QueueWithQoS</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#b0">initialize</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#b1">arrival</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#b2">arrivalWhenIdle</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#b3">startService</a> (cMessage *msg)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#p0">delay</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_enqueue_hook.html">EnqueueHook</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#p1">qosHook</a></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="QueueWithQoS::QueueWithQoS"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">QueueWithQoS::QueueWithQoS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00043 {}
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b1" doxytag="QueueWithQoS::arrival"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void QueueWithQoS::arrival           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called when a message arrives at the module. The method should either enqueue this message (usual behaviour), or discard it. It may also wrap the it into another message, and insert that one in the queue.<p>
Most straightforward implementation: <code>queue.insert(msg);</code> 
<p>
Implements <a class="el" href="class_abstract_queue.html#z14_0">AbstractQueue</a>.<div class="fragment"><pre class="fragment">00034 {
00035     <a class="code" href="class_queue_with_qo_s.html#p1">qosHook</a>-&gt;<a class="code" href="class_enqueue_hook.html#a1">enqueue</a>(msg, queue);
00036 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="QueueWithQoS::arrivalWhenIdle"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage * QueueWithQoS::arrivalWhenIdle           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called when a message arrives at the module when the queue is empty. The message doesn't need to be enqueued in this case, it can start service immmediately. This method may:<ol type=1>
<li>simply return the the same pointer (usual behaviour), or</li><li>discard the message and return NULL pointer (the effect being this message being ignored)</li><li>or modify the message, wrap in into another message etc, and return the (new) message's pointer.</li></ol>
<p>
Most straightforward implementation: <code>return msg;</code> 
<p>
Implements <a class="el" href="class_abstract_queue.html#z14_1">AbstractQueue</a>.<div class="fragment"><pre class="fragment">00039 {
00040     <span class="keywordflow">return</span> <a class="code" href="class_queue_with_qo_s.html#p1">qosHook</a>-&gt;<a class="code" href="class_enqueue_hook.html#a2">dropIfNotNeeded</a>(msg);
00041 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="QueueWithQoS::initialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void QueueWithQoS::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented from <a class="el" href="class_abstract_queue.html#b0">AbstractQueue</a>.<div class="fragment"><pre class="fragment">00024 {
00025     <a class="code" href="class_abstract_queue.html#b0">AbstractQueue::initialize</a>();
00026 
00027     <a class="code" href="class_queue_with_qo_s.html#p0">delay</a> = par(<span class="stringliteral">"procDelay"</span>);
00028     <a class="code" href="class_queue_with_qo_s.html#p1">qosHook</a> = check_and_cast&lt;EnqueueHook *&gt;(createOne(par(<span class="stringliteral">"qosBehaviorClass"</span>)));
00029     <a class="code" href="class_queue_with_qo_s.html#p1">qosHook</a>-&gt;<a class="code" href="class_enqueue_hook.html#a0">setModule</a>(<span class="keyword">this</span>);
00030 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b3" doxytag="QueueWithQoS::startService"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">simtime_t QueueWithQoS::startService           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called when a message starts service, and should return the service time.<p>
Example implementation: <code>return 1.0;</code> 
<p>
Implements <a class="el" href="class_abstract_queue.html#z14_2">AbstractQueue</a>.<div class="fragment"><pre class="fragment">00044 {
00045     <span class="keywordflow">return</span> <a class="code" href="class_queue_with_qo_s.html#p0">delay</a>;
00046 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="p0" doxytag="QueueWithQoS::delay"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">simtime_t <a class="el" href="class_queue_with_qo_s.html#p0">QueueWithQoS::delay</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p1" doxytag="QueueWithQoS::qosHook"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_enqueue_hook.html">EnqueueHook</a>* <a class="el" href="class_queue_with_qo_s.html#p1">QueueWithQoS::qosHook</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_queue_with_qo_s_8h.html">QueueWithQoS.h</a><li><a class="el" href="_queue_with_qo_s_8cc.html">QueueWithQoS.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 18:22:27 2006 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
