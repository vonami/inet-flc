<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INET Framework for OMNeT++/OMNEST: PPP Class Reference</title>
<link href="opp.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>PPP Class Reference</h1><code>#include &lt;PPP.h&gt;</code>
<p>
<a href="class_p_p_p-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
PPP implementation. Derived from the p-to-p OMNeT++ sample simulation. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#a0">PPP</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#a1">~PPP</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b0">registerInterface</a> (double <a class="el" href="class_p_p_p.html#p7">datarate</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b1">startTransmitting</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_p_p_p_frame.html">PPPFrame</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b2">encapsulate</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b3">decapsulate</a> (<a class="el" href="class_p_p_p_frame.html">PPPFrame</a> *pppFrame)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b4">displayBusy</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b5">displayIdle</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b6">updateDisplayString</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b7">numInitStages</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b8">initialize</a> (int stage)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#b9">handleMessage</a> (cMessage *msg)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p0">connected</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p1">txQueueLimit</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cGate *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p2">gateToWatch</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cQueue&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p3">txQueue</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p4">endTransmissionEvent</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_i_passive_queue.html">IPassiveQueue</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p5">queueModule</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p6">interfaceEntry</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p7">datarate</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_notification_board.html">NotificationBoard</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p8">nb</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_tx_notif_details.html">TxNotifDetails</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p9">notifDetails</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p10">oldConnColor</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p11">numSent</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p12">numRcvdOK</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p13">numBitErr</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_p_p.html#p14">numDroppedIfaceDown</a></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="PPP::PPP"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">PPP::PPP           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00034 {
00035     <a class="code" href="class_p_p_p.html#p4">endTransmissionEvent</a> = NULL;
00036 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="PPP::~PPP"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">PPP::~<a class="el" href="class_p_p_p.html">PPP</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00039 {
00040     cancelAndDelete(endTransmissionEvent);
00041 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b3" doxytag="PPP::decapsulate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage * PPP::decapsulate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_p_p_p_frame.html">PPPFrame</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pppFrame</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00325 {
00326     cMessage *msg = pppFrame-&gt;decapsulate();
00327     <span class="keyword">delete</span> pppFrame;
00328     <span class="keywordflow">return</span> msg;
00329 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b4" doxytag="PPP::displayBusy"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PPP::displayBusy           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00265 {
00266     displayString().setTagArg(<span class="stringliteral">"i"</span>,1, <a class="code" href="class_p_p_p.html#p3">txQueue</a>.length()&gt;=3 ? <span class="stringliteral">"red"</span> : <span class="stringliteral">"yellow"</span>);
00267     <a class="code" href="class_p_p_p.html#p2">gateToWatch</a>-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,0,<span class="stringliteral">"yellow"</span>);
00268     <a class="code" href="class_p_p_p.html#p2">gateToWatch</a>-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,1,<span class="stringliteral">"3"</span>);
00269     gate(<span class="stringliteral">"physOut"</span>)-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,0,<span class="stringliteral">"yellow"</span>);
00270     gate(<span class="stringliteral">"physOut"</span>)-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,1,<span class="stringliteral">"3"</span>);
00271 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b5" doxytag="PPP::displayIdle"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PPP::displayIdle           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00274 {
00275     displayString().setTagArg(<span class="stringliteral">"i"</span>,1,<span class="stringliteral">""</span>);
00276     <a class="code" href="class_p_p_p.html#p2">gateToWatch</a>-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,0,<a class="code" href="class_p_p_p.html#p10">oldConnColor</a>.c_str());
00277     <a class="code" href="class_p_p_p.html#p2">gateToWatch</a>-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,1,<span class="stringliteral">"1"</span>);
00278     gate(<span class="stringliteral">"physOut"</span>)-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,0,<span class="stringliteral">"black"</span>);
00279     gate(<span class="stringliteral">"physOut"</span>)-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,1,<span class="stringliteral">"1"</span>);
00280 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="PPP::encapsulate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_p_p_p_frame.html">PPPFrame</a> * PPP::encapsulate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00317 {
00318     <a class="code" href="class_p_p_p_frame.html">PPPFrame</a> *pppFrame = <span class="keyword">new</span> <a class="code" href="class_p_p_p_frame.html">PPPFrame</a>(msg-&gt;name());
00319     pppFrame-&gt;setByteLength(PPP_OVERHEAD_BYTES);
00320     pppFrame-&gt;encapsulate(msg);
00321     <span class="keywordflow">return</span> pppFrame;
00322 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b9" doxytag="PPP::handleMessage"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PPP::handleMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00184 {
00185     <span class="keywordflow">if</span> (!connected)
00186     {
00187         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Interface is not connected, dropping packet "</span> &lt;&lt; msg &lt;&lt; endl;
00188         <span class="keyword">delete</span> msg;
00189         <a class="code" href="class_p_p_p.html#p14">numDroppedIfaceDown</a>++;
00190     }
00191     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg==endTransmissionEvent)
00192     {
00193         <span class="comment">// Transmission finished, we can start next one.</span>
00194         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Transmission finished.\n"</span>;
00195         <span class="keywordflow">if</span> (ev.isGUI()) <a class="code" href="class_p_p_p.html#b5">displayIdle</a>();
00196 
00197         <span class="comment">// fire notification</span>
00198         <a class="code" href="class_p_p_p.html#p9">notifDetails</a>.<a class="code" href="class_tx_notif_details.html#a3">setMessage</a>(NULL);
00199         <a class="code" href="class_p_p_p.html#p8">nb</a>-&gt;<a class="code" href="class_notification_board.html#z24_0">fireChangeNotification</a>(NF_PP_TX_END, &amp;notifDetails);
00200 
00201         <span class="keywordflow">if</span> (!<a class="code" href="class_p_p_p.html#p3">txQueue</a>.empty())
00202         {
00203             msg = (cMessage *) <a class="code" href="class_p_p_p.html#p3">txQueue</a>.getTail();
00204             <a class="code" href="class_p_p_p.html#b1">startTransmitting</a>(msg);
00205             <a class="code" href="class_p_p_p.html#p11">numSent</a>++;
00206         }
00207         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (queueModule)
00208         {
00209             <span class="comment">// tell queue module that we've become idle</span>
00210             <a class="code" href="class_p_p_p.html#p5">queueModule</a>-&gt;<a class="code" href="class_i_passive_queue.html#a1">requestPacket</a>();
00211         }
00212     }
00213     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;arrivedOn(<span class="stringliteral">"physIn"</span>))
00214     {
00215         <span class="comment">// fire notification</span>
00216         <a class="code" href="class_p_p_p.html#p9">notifDetails</a>.<a class="code" href="class_tx_notif_details.html#a3">setMessage</a>(msg);
00217         <a class="code" href="class_p_p_p.html#p8">nb</a>-&gt;<a class="code" href="class_notification_board.html#z24_0">fireChangeNotification</a>(NF_PP_RX_END, &amp;notifDetails);
00218 
00219         <span class="comment">// check for bit errors</span>
00220         <span class="keywordflow">if</span> (msg-&gt;hasBitError())
00221         {
00222             <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Bit error in "</span> &lt;&lt; msg &lt;&lt; endl;
00223             <a class="code" href="class_p_p_p.html#p13">numBitErr</a>++;
00224             <span class="keyword">delete</span> msg;
00225         }
00226         <span class="keywordflow">else</span>
00227         {
00228             <span class="comment">// pass up payload</span>
00229             cMessage *payload = <a class="code" href="class_p_p_p.html#b3">decapsulate</a>(check_and_cast&lt;PPPFrame *&gt;(msg));
00230             <a class="code" href="class_p_p_p.html#p12">numRcvdOK</a>++;
00231             send(payload,<span class="stringliteral">"netwOut"</span>);
00232         }
00233     }
00234     <span class="keywordflow">else</span> <span class="comment">// arrived on gate "netwIn"</span>
00235     {
00236         <span class="keywordflow">if</span> (<a class="code" href="class_p_p_p.html#p4">endTransmissionEvent</a>-&gt;isScheduled())
00237         {
00238             <span class="comment">// We are currently busy, so just queue up the packet.</span>
00239             <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Received "</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">" for transmission but transmitter busy, queueing.\n"</span>;
00240             <span class="keywordflow">if</span> (ev.isGUI() &amp;&amp; <a class="code" href="class_p_p_p.html#p3">txQueue</a>.length()&gt;=3) displayString().setTagArg(<span class="stringliteral">"i"</span>,1,<span class="stringliteral">"red"</span>);
00241 
00242             <span class="keywordflow">if</span> (txQueueLimit &amp;&amp; <a class="code" href="class_p_p_p.html#p3">txQueue</a>.length()&gt;<a class="code" href="class_p_p_p.html#p1">txQueueLimit</a>)
00243                 error(<span class="stringliteral">"txQueue length exceeds %d -- this is probably due to "</span>
00244                       <span class="stringliteral">"a bogus app model generating excessive traffic "</span>
00245                       <span class="stringliteral">"(or if this is normal, increase txQueueLimit!)"</span>,
00246                       txQueueLimit);
00247 
00248             <a class="code" href="class_p_p_p.html#p3">txQueue</a>.insert(msg);
00249         }
00250         <span class="keywordflow">else</span>
00251         {
00252             <span class="comment">// We are idle, so we can start transmitting right away.</span>
00253             <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Received "</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">" for transmission\n"</span>;
00254             <a class="code" href="class_p_p_p.html#b1">startTransmitting</a>(msg);
00255             <a class="code" href="class_p_p_p.html#p11">numSent</a>++;
00256         }
00257     }
00258 
00259     <span class="keywordflow">if</span> (ev.isGUI())
00260         <a class="code" href="class_p_p_p.html#b6">updateDisplayString</a>();
00261 
00262 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b8" doxytag="PPP::initialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PPP::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>stage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00044 {
00045     <span class="keywordflow">if</span> (stage==3)
00046     {
00047         <span class="comment">// update display string when addresses have been autoconfigured etc.</span>
00048         <a class="code" href="class_p_p_p.html#b6">updateDisplayString</a>();
00049         <span class="keywordflow">return</span>;
00050     }
00051 
00052     <span class="comment">// all initialization is done in the first stage</span>
00053     <span class="keywordflow">if</span> (stage!=0)
00054         return;
00055 
00056     txQueue.setName("txQueue");
00057     endTransmissionEvent = new cMessage("pppEndTxEvent");
00058 
00059     txQueueLimit = par("txQueueLimit");
00060 
00061     interfaceEntry = NULL;
00062 
00063     numSent = numRcvdOK = numBitErr = numDroppedIfaceDown = 0;
00064     WATCH(numSent);
00065     WATCH(numRcvdOK);
00066     WATCH(numBitErr);
00067     WATCH(numDroppedIfaceDown);
00068 
00069     <span class="comment">// find queueModule</span>
00070     queueModule = NULL;
00071     if (par("queueModule").stringValue()[0])
00072     {
00073         cModule *mod = parentModule()-&gt;submodule(par(<span class="stringliteral">"queueModule"</span>).stringValue());
00074         <a class="code" href="class_p_p_p.html#p5">queueModule</a> = check_and_cast&lt;IPassiveQueue *&gt;(mod);
00075     }
00076 
00077     <span class="comment">// we're connected if other end of connection path is an input gate</span>
00078     cGate *physOut = gate(<span class="stringliteral">"physOut"</span>);
00079     <a class="code" href="class_p_p_p.html#p0">connected</a> = physOut-&gt;destinationGate()-&gt;type()==<span class="charliteral">'I'</span>;
00080 
00081     <span class="comment">// if we're connected, get the gate with transmission rate</span>
00082     <a class="code" href="class_p_p_p.html#p2">gateToWatch</a> = physOut;
00083     <a class="code" href="class_p_p_p.html#p7">datarate</a> = 0;
00084     <span class="keywordflow">if</span> (connected)
00085     {
00086         <span class="keywordflow">while</span> (gateToWatch)
00087         {
00088             <span class="comment">// does this gate have data rate?</span>
00089             cSimpleChannel *chan = dynamic_cast&lt;cSimpleChannel*&gt;(<a class="code" href="class_p_p_p.html#p2">gateToWatch</a>-&gt;channel());
00090             <span class="keywordflow">if</span> (chan &amp;&amp; (datarate=chan-&gt;datarate())&gt;0)
00091                 <span class="keywordflow">break</span>;
00092             <span class="comment">// otherwise just check next connection in path</span>
00093             <a class="code" href="class_p_p_p.html#p2">gateToWatch</a> = <a class="code" href="class_p_p_p.html#p2">gateToWatch</a>-&gt;toGate();
00094         }
00095         <span class="keywordflow">if</span> (!gateToWatch)
00096             error("gate physOut must be connected (directly or indirectly) to a link with data rate");
00097     }
00098 
00099     <span class="comment">// register our interface entry in InterfaceTable</span>
00100     interfaceEntry = registerInterface(datarate);
00101 
00102     <span class="comment">// prepare to fire notifications</span>
00103     nb = <a class="code" href="class_notification_board_access.html">NotificationBoardAccess</a>().get();
00104     notifDetails.setInterfaceEntry(interfaceEntry);
00105 
00106     <span class="comment">// if not connected, make it gray</span>
00107     if (ev.isGUI())
00108     {
00109         <span class="keywordflow">if</span> (!connected)
00110         {
00111             displayString().setTagArg(<span class="stringliteral">"i"</span>,1,<span class="stringliteral">"#707070"</span>);
00112             displayString().setTagArg(<span class="stringliteral">"i"</span>,2,<span class="stringliteral">"100"</span>);
00113         }
00114         <a class="code" href="class_p_p_p.html#p10">oldConnColor</a> = <a class="code" href="class_p_p_p.html#p2">gateToWatch</a>-&gt;displayString().getTagArg(<span class="stringliteral">"o"</span>,0);
00115     }
00116 
00117     <span class="comment">// request first frame to send</span>
00118     <span class="keywordflow">if</span> (queueModule)
00119     {
00120         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Requesting first frame from queue module\n"</span>;
00121         <a class="code" href="class_p_p_p.html#p5">queueModule</a>-&gt;<a class="code" href="class_i_passive_queue.html#a1">requestPacket</a>();
00122     }
00123 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b7" doxytag="PPP::numInitStages"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int PPP::numInitStages           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00075 {<span class="keywordflow">return</span> 4;}
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="PPP::registerInterface"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * PPP::registerInterface           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>datarate</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00126 {
00127     <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *e = <span class="keyword">new</span> <a class="code" href="class_interface_entry.html">InterfaceEntry</a>();
00128 
00129     <span class="comment">// interface name: our module name without special characters ([])</span>
00130     <span class="keywordtype">char</span> *interfaceName = <span class="keyword">new</span> <span class="keywordtype">char</span>[strlen(parentModule()-&gt;fullName())+1];
00131     <span class="keywordtype">char</span> *d=interfaceName;
00132     <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *s=parentModule()-&gt;fullName(); *s; s++)
00133         if (isalnum(*s))
00134             *d++ = *s;
00135     *d = '\0';
00136 
00137     e-&gt;setName(interfaceName);
00138     delete [] interfaceName;
00139 
00140     <span class="comment">// data rate</span>
00141     e-&gt;setDatarate(datarate);
00142 
00143     <span class="comment">// generate a link-layer address to be used as interface token for IPv6</span>
00144     <a class="code" href="class_interface_token.html">InterfaceToken</a> token(0, simulation.getUniqueNumber(), 64);
00145     e-&gt;setInterfaceToken(token);
00146 
00147     <span class="comment">// MTU: typical values are 576 (Internet de facto), 1500 (Ethernet-friendly),</span>
00148     <span class="comment">// 4000 (on some point-to-point links), 4470 (Cisco routers default, FDDI compatible)</span>
00149     e-&gt;setMtu(4470);
00150 
00151     <span class="comment">// capabilities</span>
00152     e-&gt;setMulticast(true);
00153     e-&gt;setPointToPoint(true);
00154 
00155     <span class="comment">// add</span>
00156     <a class="code" href="class_interface_table.html">InterfaceTable</a> *ift = <a class="code" href="class_interface_table_access.html">InterfaceTableAccess</a>().get();
00157     ift-&gt;addInterface(e, this);
00158 
00159     return e;
00160 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="PPP::startTransmitting"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PPP::startTransmitting           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00164 {
00165     <span class="comment">// if there's any control info, remove it; then encapsulate the packet</span>
00166     <span class="keyword">delete</span> msg-&gt;removeControlInfo();
00167     <a class="code" href="class_p_p_p_frame.html">PPPFrame</a> *pppFrame = <a class="code" href="class_p_p_p.html#b2">encapsulate</a>(msg);
00168     <span class="keywordflow">if</span> (ev.isGUI()) <a class="code" href="class_p_p_p.html#b4">displayBusy</a>();
00169 
00170     <span class="comment">// fire notification</span>
00171     <a class="code" href="class_p_p_p.html#p9">notifDetails</a>.<a class="code" href="class_tx_notif_details.html#a3">setMessage</a>(pppFrame);
00172     <a class="code" href="class_p_p_p.html#p8">nb</a>-&gt;<a class="code" href="class_notification_board.html#z24_0">fireChangeNotification</a>(NF_PP_TX_BEGIN, &amp;notifDetails);
00173 
00174     <span class="comment">// send</span>
00175     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Starting transmission of "</span> &lt;&lt; pppFrame &lt;&lt; endl;
00176     send(pppFrame, <span class="stringliteral">"physOut"</span>);
00177 
00178     <span class="comment">// schedule an event for the time when last bit will leave the gate.</span>
00179     simtime_t endTransmission = <a class="code" href="class_p_p_p.html#p2">gateToWatch</a>-&gt;transmissionFinishes();
00180     scheduleAt(endTransmission, endTransmissionEvent);
00181 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b6" doxytag="PPP::updateDisplayString"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void PPP::updateDisplayString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00283 {
00284     <span class="keywordtype">char</span> buf[80];
00285     <span class="keywordflow">if</span> (ev.disabled())
00286     {
00287         <span class="comment">// speed up things</span>
00288         displayString().setTagArg(<span class="stringliteral">"t"</span>,0,<span class="stringliteral">""</span>);
00289     }
00290     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (connected)
00291     {
00292         <span class="keywordtype">char</span> drate[40];
00293         <span class="keywordflow">if</span> (datarate&gt;=1e9) sprintf(drate,"%gG", datarate/1e9);
00294         else if (datarate&gt;=1e6) sprintf(drate,"%gM", datarate/1e6);
00295         else if (datarate&gt;=1e3) sprintf(drate,"%gK", datarate/1e3);
00296         else sprintf(drate,"%gbps", datarate);
00297 
00298 <span class="comment">/* TBD FIXME find solution for displaying IP address without dependence on IPv6 or IPv6</span>
00299 <span class="comment">        IPAddress addr = interfaceEntry-&gt;ipv4()-&gt;inetAddress();</span>
00300 <span class="comment">        sprintf(buf, "%s / %s\nrcv:%ld snt:%ld", addr.isUnspecified()?"-":addr.str().c_str(), drate, numRcvdOK, numSent);</span>
00301 <span class="comment">*/</span>
00302         sprintf(buf, "%s\nrcv:%ld snt:%ld", drate, numRcvdOK, numSent);
00303 
00304         if (numBitErr&gt;0)
00305             sprintf(buf+strlen(buf), "\nerr:%ld", numBitErr);
00306 
00307         displayString().setTagArg("t",0,buf);
00308     }
00309     else
00310     {
00311         sprintf(buf, <span class="stringliteral">"not connected\ndropped:%ld"</span>, numDroppedIfaceDown);
00312         displayString().setTagArg(<span class="stringliteral">"t"</span>,0,buf);
00313     }
00314 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="p0" doxytag="PPP::connected"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="class_p_p_p.html#p0">PPP::connected</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p7" doxytag="PPP::datarate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_p_p_p.html#p7">PPP::datarate</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p4" doxytag="PPP::endTransmissionEvent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage* <a class="el" href="class_p_p_p.html#p4">PPP::endTransmissionEvent</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p2" doxytag="PPP::gateToWatch"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cGate* <a class="el" href="class_p_p_p.html#p2">PPP::gateToWatch</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p6" doxytag="PPP::interfaceEntry"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_interface_entry.html">InterfaceEntry</a>* <a class="el" href="class_p_p_p.html#p6">PPP::interfaceEntry</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p8" doxytag="PPP::nb"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_notification_board.html">NotificationBoard</a>* <a class="el" href="class_p_p_p.html#p8">PPP::nb</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p9" doxytag="PPP::notifDetails"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_tx_notif_details.html">TxNotifDetails</a> <a class="el" href="class_p_p_p.html#p9">PPP::notifDetails</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p13" doxytag="PPP::numBitErr"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long <a class="el" href="class_p_p_p.html#p13">PPP::numBitErr</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p14" doxytag="PPP::numDroppedIfaceDown"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long <a class="el" href="class_p_p_p.html#p14">PPP::numDroppedIfaceDown</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p12" doxytag="PPP::numRcvdOK"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long <a class="el" href="class_p_p_p.html#p12">PPP::numRcvdOK</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p11" doxytag="PPP::numSent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long <a class="el" href="class_p_p_p.html#p11">PPP::numSent</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p10" doxytag="PPP::oldConnColor"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">std::string <a class="el" href="class_p_p_p.html#p10">PPP::oldConnColor</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p5" doxytag="PPP::queueModule"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_i_passive_queue.html">IPassiveQueue</a>* <a class="el" href="class_p_p_p.html#p5">PPP::queueModule</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p3" doxytag="PPP::txQueue"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cQueue <a class="el" href="class_p_p_p.html#p3">PPP::txQueue</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p1" doxytag="PPP::txQueueLimit"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long <a class="el" href="class_p_p_p.html#p1">PPP::txQueueLimit</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_p_p_p_8h.html">PPP.h</a><li><a class="el" href="_p_p_p_8cc.html">PPP.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 18:22:27 2006 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
