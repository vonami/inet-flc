<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INET Framework for OMNeT++/OMNEST: EtherMACBase Class Reference</title>
<link href="opp.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>EtherMACBase Class Reference</h1><code>#include &lt;EtherMACBase.h&gt;</code>
<p>
<p>Inheritance diagram for EtherMACBase:
<p><center><img src="class_ether_m_a_c_base.png" usemap="#EtherMACBase_map" border="0" alt=""></center>
<map name="EtherMACBase_map">
<area href="class_ether_m_a_c.html" alt="EtherMAC" shape="rect" coords="0,56,99,80">
<area href="class_ether_m_a_c2.html" alt="EtherMAC2" shape="rect" coords="109,56,208,80">
</map>
<a href="class_ether_m_a_c_base-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for ethernet MAC implementations. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#a0">EtherMACBase</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#a1">~EtherMACBase</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#a2">queueLength</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_m_a_c_address.html">MACAddress</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#a3">getMACAddress</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b0">initialize</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b1">initializeTxrate</a> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b2">initializeFlags</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b3">initializeMACAddress</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b4">initializeQueueModule</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b5">initializeNotificationBoard</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b6">initializeStatistics</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b7">registerInterface</a> (double <a class="el" href="class_ether_m_a_c_base.html#p8">txrate</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b8">checkDestinationAddress</a> (<a class="el" href="class_ether_frame.html">EtherFrame</a> *frame)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b9">calculateParameters</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b10">printParameters</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b11">finish</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b12">processFrameFromUpperLayer</a> (<a class="el" href="class_ether_frame.html">EtherFrame</a> *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b13">processMsgFromNetwork</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b14">processMessageWhenNotConnected</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b15">processMessageWhenDisabled</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b16">handleEndIFGPeriod</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b17">handleEndTxPeriod</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b18">handleEndPausePeriod</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b19">scheduleEndIFGPeriod</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b20">scheduleEndTxPeriod</a> (cMessage *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b21">scheduleEndPausePeriod</a> (int pauseUnits)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b22">checkAndScheduleEndPausePeriod</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b23">fireChangeNotification</a> (int type, cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b24">beginSendFrames</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b25">frameReceptionComplete</a> (<a class="el" href="class_ether_frame.html">EtherFrame</a> *frame)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b26">processReceivedDataFrame</a> (<a class="el" href="class_ether_frame.html">EtherFrame</a> *frame)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b27">processPauseCommand</a> (int pauseUnits)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b28">updateDisplayString</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#b29">updateConnectionColor</a> (int txState)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p0">connected</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p1">disabled</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p2">promiscuous</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_m_a_c_address.html">MACAddress</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p3">address</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p4">txQueueLimit</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p5">duplexMode</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p6">carrierExtension</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p7">frameBursting</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p8">txrate</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p9">bitTime</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p10">slotTime</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p11">interFrameGap</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p12">jamDuration</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p13">shortestFrameDuration</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p14">transmitState</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p15">receiveState</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p16">pauseUnitsRequested</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cQueue&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p17">txQueue</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_i_passive_queue.html">IPassiveQueue</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p18">queueModule</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p19">interfaceEntry</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_notification_board.html">NotificationBoard</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p20">nb</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_tx_notif_details.html">TxNotifDetails</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p21">notifDetails</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p22">endTxMsg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p23">endIFGMsg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p24">endPauseMsg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p25">framesSentInBurst</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p26">bytesSentInBurst</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p27">numFramesSent</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p28">numFramesReceivedOK</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p29">numBytesSent</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p30">numBytesReceivedOK</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p31">numFramesFromHL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p32">numDroppedIfaceDown</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p33">numDroppedBitError</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p34">numDroppedNotForUs</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p35">numFramesPassedToHL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p36">numPauseFramesRcvd</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p37">numPauseFramesSent</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p38">numFramesSentVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p39">numFramesReceivedOKVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p40">numBytesSentVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p41">numBytesReceivedOKVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p42">numDroppedIfaceDownVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p43">numDroppedBitErrorVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p44">numDroppedNotForUsVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p45">numFramesPassedToHLVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p46">numPauseFramesRcvdVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ether_m_a_c_base.html#p47">numPauseFramesSentVector</a></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="EtherMACBase::EtherMACBase"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">EtherMACBase::EtherMACBase           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00029 {
00030     <a class="code" href="class_ether_m_a_c_base.html#p20">nb</a> = NULL;
00031     <a class="code" href="class_ether_m_a_c_base.html#p18">queueModule</a> = NULL;
00032     <a class="code" href="class_ether_m_a_c_base.html#p19">interfaceEntry</a> = NULL;
00033     <a class="code" href="class_ether_m_a_c_base.html#p22">endTxMsg</a> = <a class="code" href="class_ether_m_a_c_base.html#p23">endIFGMsg</a> = <a class="code" href="class_ether_m_a_c_base.html#p24">endPauseMsg</a> = NULL;
00034 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="EtherMACBase::~EtherMACBase"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">EtherMACBase::~<a class="el" href="class_ether_m_a_c_base.html">EtherMACBase</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00037 {
00038     cancelAndDelete(endTxMsg);
00039     cancelAndDelete(endIFGMsg);
00040     cancelAndDelete(endPauseMsg);
00041 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b24" doxytag="EtherMACBase::beginSendFrames"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::beginSendFrames           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00537 {
00538     <span class="keywordflow">if</span> (!<a class="code" href="class_ether_m_a_c_base.html#p17">txQueue</a>.empty())
00539     {
00540         <span class="comment">// Other frames are queued, therefore wait IFG period and transmit next frame</span>
00541         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Transmit next frame in output queue, after IFG period\n"</span>;
00542         <a class="code" href="class_ether_m_a_c_base.html#b19">scheduleEndIFGPeriod</a>();
00543     }
00544     <span class="keywordflow">else</span>
00545     {
00546         <a class="code" href="class_ether_m_a_c_base.html#p14">transmitState</a> = <a class="code" href="_ether_m_a_c_base_8h.html#a7">TX_IDLE_STATE</a>;
00547         <span class="keywordflow">if</span> (queueModule)
00548         {
00549             <span class="comment">// tell queue module that we've become idle</span>
00550             <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Requesting another frame from queue module\n"</span>;
00551             <a class="code" href="class_ether_m_a_c_base.html#p18">queueModule</a>-&gt;<a class="code" href="class_i_passive_queue.html#a1">requestPacket</a>();
00552         }
00553         <span class="keywordflow">else</span>
00554         {
00555             <span class="comment">// No more frames set transmitter to idle</span>
00556             <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"No more frames to send, transmitter set to idle\n"</span>;
00557         }
00558     }
00559 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b9" doxytag="EtherMACBase::calculateParameters"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::calculateParameters           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00232 {
00233     <span class="keywordflow">if</span> (disabled || !connected)
00234     {
00235         <a class="code" href="class_ether_m_a_c_base.html#p9">bitTime</a> = <a class="code" href="class_ether_m_a_c_base.html#p10">slotTime</a> = <a class="code" href="class_ether_m_a_c_base.html#p11">interFrameGap</a> = <a class="code" href="class_ether_m_a_c_base.html#p12">jamDuration</a> = <a class="code" href="class_ether_m_a_c_base.html#p13">shortestFrameDuration</a> = 0;
00236         <a class="code" href="class_ether_m_a_c_base.html#p6">carrierExtension</a> = <a class="code" href="class_ether_m_a_c_base.html#p7">frameBursting</a> = <span class="keyword">false</span>;
00237         <span class="keywordflow">return</span>;
00238     }
00239 
00240     <span class="keywordflow">if</span> (txrate != ETHERNET_TXRATE &amp;&amp; txrate != FAST_ETHERNET_TXRATE &amp;&amp;
00241         txrate != GIGABIT_ETHERNET_TXRATE &amp;&amp; txrate != FAST_GIGABIT_ETHERNET_TXRATE)
00242     {
00243         error(<span class="stringliteral">"nonstandard transmission rate %g, must be %g, %g, %g or %g bit/sec"</span>,
00244             txrate, ETHERNET_TXRATE, FAST_ETHERNET_TXRATE, GIGABIT_ETHERNET_TXRATE, FAST_GIGABIT_ETHERNET_TXRATE);
00245     }
00246 
00247     <a class="code" href="class_ether_m_a_c_base.html#p9">bitTime</a> = 1/(double)<a class="code" href="class_ether_m_a_c_base.html#p8">txrate</a>;
00248 
00249     <span class="comment">// set slot time</span>
00250     <span class="keywordflow">if</span> (txrate==ETHERNET_TXRATE || txrate==FAST_ETHERNET_TXRATE)
00251         slotTime = SLOT_TIME;
00252     else
00253         slotTime = GIGABIT_SLOT_TIME;
00254 
00255     <span class="comment">// only if Gigabit Ethernet</span>
00256     frameBursting = (txrate==GIGABIT_ETHERNET_TXRATE || txrate==FAST_GIGABIT_ETHERNET_TXRATE);
00257     carrierExtension = (slotTime == GIGABIT_SLOT_TIME &amp;&amp; !duplexMode);
00258 
00259     interFrameGap = INTERFRAME_GAP_BITS/(<span class="keywordtype">double</span>)txrate;
00260     jamDuration = 8*JAM_SIGNAL_BYTES*bitTime;
00261     shortestFrameDuration = carrierExtension ? GIGABIT_MIN_FRAME_WITH_EXT : MIN_ETHERNET_FRAME;
00262 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b22" doxytag="EtherMACBase::checkAndScheduleEndPausePeriod"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool EtherMACBase::checkAndScheduleEndPausePeriod           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00522 {
00523     <span class="keywordflow">if</span> (pauseUnitsRequested&gt;0)
00524     {
00525         <span class="comment">// if we received a PAUSE frame recently, go into PAUSE state</span>
00526         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Going to PAUSE mode for "</span> &lt;&lt; <a class="code" href="class_ether_m_a_c_base.html#p16">pauseUnitsRequested</a> &lt;&lt; <span class="stringliteral">" time units\n"</span>;
00527 
00528         <a class="code" href="class_ether_m_a_c_base.html#b21">scheduleEndPausePeriod</a>(pauseUnitsRequested);
00529         pauseUnitsRequested = 0;
00530         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00531     }
00532 
00533     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00534 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b8" doxytag="EtherMACBase::checkDestinationAddress"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool EtherMACBase::checkDestinationAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ether_frame.html">EtherFrame</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>frame</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00215 {
00216     <span class="comment">// If not set to promiscuous = on, then checks if received frame contains destination MAC address</span>
00217     <span class="comment">// matching port's MAC address, also checks if broadcast bit is set</span>
00218     <span class="keywordflow">if</span> (!promiscuous &amp;&amp; !frame-&gt;<a class="code" href="class_ether_frame.html#a7">getDest</a>().<a class="code" href="class_m_a_c_address.html#a11">isBroadcast</a>() &amp;&amp; !frame-&gt;<a class="code" href="class_ether_frame.html#a7">getDest</a>().<a class="code" href="class_m_a_c_address.html#a15">equals</a>(address))
00219     {
00220         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Frame `"</span> &lt;&lt; frame-&gt;name() &lt;&lt;<span class="stringliteral">"' not destined to us, discarding\n"</span>;
00221         <a class="code" href="class_ether_m_a_c_base.html#p34">numDroppedNotForUs</a>++;
00222         <a class="code" href="class_ether_m_a_c_base.html#p44">numDroppedNotForUsVector</a>.record(numDroppedNotForUs);
00223         <span class="keyword">delete</span> frame;
00224 
00225         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00226     }
00227 
00228     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00229 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b11" doxytag="EtherMACBase::finish"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::finish           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented in <a class="el" href="class_ether_m_a_c.html#b3">EtherMAC</a>.<div class="fragment"><pre class="fragment">00570 {
00571     <span class="keywordflow">if</span> (!disabled &amp;&amp; par(<span class="stringliteral">"writeScalars"</span>).boolValue())
00572     {
00573         <span class="keywordtype">double</span> t = simTime();
00574         recordScalar(<span class="stringliteral">"simulated time"</span>, t);
00575         recordScalar(<span class="stringliteral">"txrate (Mb)"</span>, txrate/1000000);
00576         recordScalar(<span class="stringliteral">"full duplex"</span>, duplexMode);
00577         recordScalar(<span class="stringliteral">"frames sent"</span>,    numFramesSent);
00578         recordScalar(<span class="stringliteral">"frames rcvd"</span>,    numFramesReceivedOK);
00579         recordScalar(<span class="stringliteral">"bytes sent"</span>,     numBytesSent);
00580         recordScalar(<span class="stringliteral">"bytes rcvd"</span>,     numBytesReceivedOK);
00581         recordScalar(<span class="stringliteral">"frames from higher layer"</span>, numFramesFromHL);
00582         recordScalar(<span class="stringliteral">"frames from higher layer dropped (iface down)"</span>, numDroppedIfaceDown);
00583         recordScalar(<span class="stringliteral">"frames dropped (bit error)"</span>,  numDroppedBitError);
00584         recordScalar(<span class="stringliteral">"frames dropped (not for us)"</span>, numDroppedNotForUs);
00585         recordScalar(<span class="stringliteral">"frames passed up to HL"</span>, numFramesPassedToHL);
00586         recordScalar(<span class="stringliteral">"PAUSE frames sent"</span>,  numPauseFramesSent);
00587         recordScalar(<span class="stringliteral">"PAUSE frames rcvd"</span>,  numPauseFramesRcvd);
00588 
00589         <span class="keywordflow">if</span> (t&gt;0)
00590         {
00591             recordScalar(<span class="stringliteral">"frames/sec sent"</span>, numFramesSent/t);
00592             recordScalar(<span class="stringliteral">"frames/sec rcvd"</span>, numFramesReceivedOK/t);
00593             recordScalar(<span class="stringliteral">"bits/sec sent"</span>,   8*numBytesSent/t);
00594             recordScalar(<span class="stringliteral">"bits/sec rcvd"</span>,   8*numBytesReceivedOK/t);
00595         }
00596     }
00597 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b23" doxytag="EtherMACBase::fireChangeNotification"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::fireChangeNotification           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>cMessage *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00562 {
00563         <span class="keywordflow">if</span> (nb) {
00564             <a class="code" href="class_ether_m_a_c_base.html#p21">notifDetails</a>.<a class="code" href="class_tx_notif_details.html#a3">setMessage</a>(msg);
00565                 <a class="code" href="class_ether_m_a_c_base.html#p20">nb</a>-&gt;<a class="code" href="class_notification_board.html#z24_0">fireChangeNotification</a>(type, &amp;notifDetails);
00566         }
00567 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b25" doxytag="EtherMACBase::frameReceptionComplete"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::frameReceptionComplete           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ether_frame.html">EtherFrame</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>frame</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00349 {
00350     <span class="keywordtype">int</span> pauseUnits;
00351 
00352     <span class="keywordflow">switch</span> (frame-&gt;kind())
00353     {
00354       <span class="keywordflow">case</span> <a class="code" href="_ether_frame__m_8h.html#a2">ETH_FRAME</a>:
00355         <a class="code" href="class_ether_m_a_c_base.html#b26">processReceivedDataFrame</a>((<a class="code" href="class_ether_frame.html">EtherFrame</a> *)frame);
00356         <span class="keywordflow">break</span>;
00357 
00358       <span class="keywordflow">case</span> <a class="code" href="_ether_frame__m_8h.html#a3">ETH_PAUSE</a>:
00359         pauseUnits = ((<a class="code" href="class_ether_pause_frame.html">EtherPauseFrame</a> *)frame)-&gt;getPauseTime();
00360         <span class="keyword">delete</span> frame;
00361         <a class="code" href="class_ether_m_a_c_base.html#p36">numPauseFramesRcvd</a>++;
00362         <a class="code" href="class_ether_m_a_c_base.html#p46">numPauseFramesRcvdVector</a>.record(numPauseFramesRcvd);
00363         <a class="code" href="class_ether_m_a_c_base.html#b27">processPauseCommand</a>(pauseUnits);
00364         <span class="keywordflow">break</span>;
00365 
00366       <span class="keywordflow">default</span>:
00367         error(<span class="stringliteral">"Invalid message kind %d"</span>,frame-&gt;kind());
00368     }
00369 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="EtherMACBase::getMACAddress"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_m_a_c_address.html">MACAddress</a> EtherMACBase::getMACAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00126 {<span class="keywordflow">return</span> <a class="code" href="class_ether_m_a_c_base.html#p3">address</a>;}
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b16" doxytag="EtherMACBase::handleEndIFGPeriod"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::handleEndIFGPeriod           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented in <a class="el" href="class_ether_m_a_c.html#d2">EtherMAC</a>, and <a class="el" href="class_ether_m_a_c2.html#b6">EtherMAC2</a>.<div class="fragment"><pre class="fragment">00426 {
00427     <span class="keywordflow">if</span> (transmitState!=WAIT_IFG_STATE)
00428         error("Not in WAIT_IFG_STATE at the end of IFG period");
00429 
00430     if (txQueue.empty())
00431         error("End of IFG and no frame to transmit");
00432 
00433     <span class="comment">// End of IFG period, okay to transmit, if Rx idle OR duplexMode</span>
00434     cMessage *frame = (cMessage *)txQueue.tail();
00435     EV &lt;&lt; "IFG elapsed, now begin transmission of frame " &lt;&lt; frame &lt;&lt; endl;
00436 
00437     <span class="comment">// Perform carrier extension if in Gigabit Ethernet</span>
00438     if (carrierExtension &amp;&amp; frame-&gt;byteLength() &lt; GIGABIT_MIN_FRAME_WITH_EXT)
00439     {
00440         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Performing carrier extension of small frame\n"</span>;
00441         frame-&gt;setByteLength(GIGABIT_MIN_FRAME_WITH_EXT);
00442     }
00443 
00444     <span class="comment">// start frame burst, if enabled</span>
00445     <span class="keywordflow">if</span> (frameBursting)
00446     {
00447         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Starting frame burst\n"</span>;
00448         <a class="code" href="class_ether_m_a_c_base.html#p25">framesSentInBurst</a> = 0;
00449         <a class="code" href="class_ether_m_a_c_base.html#p26">bytesSentInBurst</a> = 0;
00450     }
00451 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b18" doxytag="EtherMACBase::handleEndPausePeriod"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::handleEndPausePeriod           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00481 {
00482     <span class="keywordflow">if</span> (transmitState != PAUSE_STATE)
00483         error("At end of PAUSE not in PAUSE_STATE!");
00484     EV &lt;&lt; "Pause finished, resuming transmissions\n";
00485     beginSendFrames();
00486 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b17" doxytag="EtherMACBase::handleEndTxPeriod"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::handleEndTxPeriod           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented in <a class="el" href="class_ether_m_a_c.html#d3">EtherMAC</a>, and <a class="el" href="class_ether_m_a_c2.html#b7">EtherMAC2</a>.<div class="fragment"><pre class="fragment">00454 {
00455     <span class="comment">// we only get here if transmission has finished successfully, without collision</span>
00456     <span class="keywordflow">if</span> (transmitState!=TRANSMITTING_STATE || (!duplexMode &amp;&amp; receiveState!=RX_IDLE_STATE))
00457         error("End of transmission, and incorrect state detected");
00458 
00459     if (txQueue.empty())
00460         error("Frame under transmission cannot be found");
00461 
00462     <span class="comment">// get frame from buffer</span>
00463     cMessage *frame = (cMessage*)txQueue.pop();
00464 
00465     numFramesSent++;
00466     numBytesSent += frame-&gt;byteLength();
00467     numFramesSentVector.record(numFramesSent);
00468     numBytesSentVector.record(numBytesSent);
00469 
00470     if (frame-&gt;kind()==ETH_PAUSE)
00471     {
00472         <a class="code" href="class_ether_m_a_c_base.html#p37">numPauseFramesSent</a>++;
00473         <a class="code" href="class_ether_m_a_c_base.html#p47">numPauseFramesSentVector</a>.record(numPauseFramesSent);
00474     }
00475 
00476     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Transmission of "</span> &lt;&lt; frame &lt;&lt; <span class="stringliteral">" successfully completed\n"</span>;
00477     <span class="keyword">delete</span> frame;
00478 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="EtherMACBase::initialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented in <a class="el" href="class_ether_m_a_c.html#b0">EtherMAC</a>, and <a class="el" href="class_ether_m_a_c2.html#b0">EtherMAC2</a>.<div class="fragment"><pre class="fragment">00044 {
00045     <a class="code" href="class_ether_m_a_c_base.html#b2">initializeFlags</a>();
00046 
00047     <a class="code" href="class_ether_m_a_c_base.html#b1">initializeTxrate</a>();
00048     WATCH(txrate);
00049 
00050     <a class="code" href="class_ether_m_a_c_base.html#b3">initializeMACAddress</a>();
00051     <a class="code" href="class_ether_m_a_c_base.html#b4">initializeQueueModule</a>();
00052     <a class="code" href="class_ether_m_a_c_base.html#b5">initializeNotificationBoard</a>();
00053     <a class="code" href="class_ether_m_a_c_base.html#b6">initializeStatistics</a>();
00054 
00055     <a class="code" href="class_ether_m_a_c_base.html#b7">registerInterface</a>(txrate); <span class="comment">// needs MAC address</span>
00056 
00057     <span class="comment">// initialize queue</span>
00058     <a class="code" href="class_ether_m_a_c_base.html#p17">txQueue</a>.setName(<span class="stringliteral">"txQueue"</span>);
00059 
00060     <span class="comment">// initialize self messages</span>
00061     <a class="code" href="class_ether_m_a_c_base.html#p22">endTxMsg</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">"EndTransmission"</span>, ENDTRANSMISSION);
00062     <a class="code" href="class_ether_m_a_c_base.html#p23">endIFGMsg</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">"EndIFG"</span>, ENDIFG);
00063     <a class="code" href="class_ether_m_a_c_base.html#p24">endPauseMsg</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">"EndPause"</span>, ENDPAUSE);
00064 
00065     <span class="comment">// initialize states</span>
00066     <a class="code" href="class_ether_m_a_c_base.html#p14">transmitState</a> = <a class="code" href="_ether_m_a_c_base_8h.html#a7">TX_IDLE_STATE</a>;
00067     <a class="code" href="class_ether_m_a_c_base.html#p15">receiveState</a> = <a class="code" href="_ether_m_a_c_base_8h.html#a13">RX_IDLE_STATE</a>;
00068     WATCH(transmitState);
00069     WATCH(receiveState);
00070 
00071     <span class="comment">// initalize pause</span>
00072     <a class="code" href="class_ether_m_a_c_base.html#p16">pauseUnitsRequested</a> = 0;
00073     WATCH(pauseUnitsRequested);
00074 
00075     <span class="comment">// initialize queue limit</span>
00076     <a class="code" href="class_ether_m_a_c_base.html#p4">txQueueLimit</a> = par(<span class="stringliteral">"txQueueLimit"</span>);
00077     WATCH(txQueueLimit);
00078 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="EtherMACBase::initializeFlags"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::initializeFlags           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00118 {
00119     <span class="comment">// initialize connected flag</span>
00120     <a class="code" href="class_ether_m_a_c_base.html#p0">connected</a> = gate(<span class="stringliteral">"physOut"</span>)-&gt;destinationGate()-&gt;isConnected();
00121     <span class="keywordflow">if</span> (!connected) EV &lt;&lt; "MAC not connected to a network.\n";
00122     WATCH(connected);
00123 
00124     <span class="comment">// TODO: this should be settable from the gui</span>
00125     <span class="comment">// initialize disabled flag</span>
00126     <span class="comment">// Note: it is currently not supported to enable a disabled MAC at runtime.</span>
00127     <span class="comment">// Difficulties: (1) autoconfig (2) how to pick up channel state (free, tx, collision etc)</span>
00128     disabled = false;
00129     WATCH(disabled);
00130 
00131     <span class="comment">// initialize promiscuous flag</span>
00132     promiscuous = par("promiscuous");
00133     WATCH(promiscuous);
00134 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b3" doxytag="EtherMACBase::initializeMACAddress"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::initializeMACAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00092 {
00093     <span class="keyword">const</span> <span class="keywordtype">char</span> *addrstr = par(<span class="stringliteral">"address"</span>);
00094 
00095     <span class="keywordflow">if</span> (!strcmp(addrstr,<span class="stringliteral">"auto"</span>))
00096     {
00097         <span class="comment">// assign automatic address</span>
00098         <a class="code" href="class_ether_m_a_c_base.html#p3">address</a> = <a class="code" href="class_m_a_c_address.html#e0">MACAddress::generateAutoAddress</a>();
00099 
00100         <span class="comment">// change module parameter from "auto" to concrete address</span>
00101         par(<span class="stringliteral">"address"</span>).setStringValue(<a class="code" href="class_ether_m_a_c_base.html#p3">address</a>.<a class="code" href="class_m_a_c_address.html#a14">str</a>().c_str());
00102     }
00103     <span class="keywordflow">else</span>
00104     {
00105         <a class="code" href="class_ether_m_a_c_base.html#p3">address</a>.<a class="code" href="class_m_a_c_address.html#a6">setAddress</a>(addrstr);
00106     }
00107 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b5" doxytag="EtherMACBase::initializeNotificationBoard"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::initializeNotificationBoard           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00110 {
00111     <span class="keywordflow">if</span> (interfaceEntry) {
00112         <a class="code" href="class_ether_m_a_c_base.html#p20">nb</a> = <a class="code" href="class_notification_board_access.html">NotificationBoardAccess</a>().getIfExists();
00113         <a class="code" href="class_ether_m_a_c_base.html#p21">notifDetails</a>.<a class="code" href="class_tx_notif_details.html#a4">setInterfaceEntry</a>(interfaceEntry);
00114     }
00115 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b4" doxytag="EtherMACBase::initializeQueueModule"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::initializeQueueModule           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00081 {
00082     <span class="keywordflow">if</span> (par(<span class="stringliteral">"queueModule"</span>).stringValue()[0])
00083     {
00084         cModule *module = parentModule()-&gt;submodule(par(<span class="stringliteral">"queueModule"</span>).stringValue());
00085         <a class="code" href="class_ether_m_a_c_base.html#p18">queueModule</a> = check_and_cast&lt;IPassiveQueue *&gt;(module);
00086         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Requesting first frame from queue module\n"</span>;
00087         <a class="code" href="class_ether_m_a_c_base.html#p18">queueModule</a>-&gt;<a class="code" href="class_i_passive_queue.html#a1">requestPacket</a>();
00088     }
00089 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b6" doxytag="EtherMACBase::initializeStatistics"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::initializeStatistics           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00137 {
00138     <a class="code" href="class_ether_m_a_c_base.html#p25">framesSentInBurst</a> = 0;
00139     <a class="code" href="class_ether_m_a_c_base.html#p26">bytesSentInBurst</a> = 0;
00140 
00141     <a class="code" href="class_ether_m_a_c_base.html#p27">numFramesSent</a> = <a class="code" href="class_ether_m_a_c_base.html#p28">numFramesReceivedOK</a> = <a class="code" href="class_ether_m_a_c_base.html#p29">numBytesSent</a> = <a class="code" href="class_ether_m_a_c_base.html#p30">numBytesReceivedOK</a> = 0;
00142     <a class="code" href="class_ether_m_a_c_base.html#p35">numFramesPassedToHL</a> = <a class="code" href="class_ether_m_a_c_base.html#p33">numDroppedBitError</a> = <a class="code" href="class_ether_m_a_c_base.html#p34">numDroppedNotForUs</a> = 0;
00143     <a class="code" href="class_ether_m_a_c_base.html#p31">numFramesFromHL</a> = <a class="code" href="class_ether_m_a_c_base.html#p32">numDroppedIfaceDown</a> = 0;
00144     <a class="code" href="class_ether_m_a_c_base.html#p36">numPauseFramesRcvd</a> = <a class="code" href="class_ether_m_a_c_base.html#p37">numPauseFramesSent</a> = 0;
00145 
00146     WATCH(framesSentInBurst);
00147     WATCH(bytesSentInBurst);
00148 
00149     WATCH(numFramesSent);
00150     WATCH(numFramesReceivedOK);
00151     WATCH(numBytesSent);
00152     WATCH(numBytesReceivedOK);
00153     WATCH(numFramesFromHL);
00154     WATCH(numDroppedIfaceDown);
00155     WATCH(numDroppedBitError);
00156     WATCH(numDroppedNotForUs);
00157     WATCH(numFramesPassedToHL);
00158     WATCH(numPauseFramesRcvd);
00159     WATCH(numPauseFramesSent);
00160 
00161     <a class="code" href="class_ether_m_a_c_base.html#p38">numFramesSentVector</a>.setName(<span class="stringliteral">"framesSent"</span>);
00162     <a class="code" href="class_ether_m_a_c_base.html#p39">numFramesReceivedOKVector</a>.setName(<span class="stringliteral">"framesReceivedOK"</span>);
00163     <a class="code" href="class_ether_m_a_c_base.html#p40">numBytesSentVector</a>.setName(<span class="stringliteral">"bytesSent"</span>);
00164     <a class="code" href="class_ether_m_a_c_base.html#p41">numBytesReceivedOKVector</a>.setName(<span class="stringliteral">"bytesReceivedOK"</span>);
00165     <a class="code" href="class_ether_m_a_c_base.html#p42">numDroppedIfaceDownVector</a>.setName(<span class="stringliteral">"framesDroppedIfaceDown"</span>);
00166     <a class="code" href="class_ether_m_a_c_base.html#p43">numDroppedBitErrorVector</a>.setName(<span class="stringliteral">"framesDroppedBitError"</span>);
00167     <a class="code" href="class_ether_m_a_c_base.html#p44">numDroppedNotForUsVector</a>.setName(<span class="stringliteral">"framesDroppedNotForUs"</span>);
00168     <a class="code" href="class_ether_m_a_c_base.html#p45">numFramesPassedToHLVector</a>.setName(<span class="stringliteral">"framesPassedToHL"</span>);
00169     <a class="code" href="class_ether_m_a_c_base.html#p46">numPauseFramesRcvdVector</a>.setName(<span class="stringliteral">"pauseFramesRcvd"</span>);
00170     <a class="code" href="class_ether_m_a_c_base.html#p47">numPauseFramesSentVector</a>.setName(<span class="stringliteral">"pauseFramesSent"</span>);
00171 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="EtherMACBase::initializeTxrate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void EtherMACBase::initializeTxrate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implemented in <a class="el" href="class_ether_m_a_c.html#b1">EtherMAC</a>, and <a class="el" href="class_ether_m_a_c2.html#b1">EtherMAC2</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b10" doxytag="EtherMACBase::printParameters"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::printParameters           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00265 {
00266     <span class="comment">// Dump parameters</span>
00267     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"MAC address: "</span> &lt;&lt; <a class="code" href="class_ether_m_a_c_base.html#p3">address</a> &lt;&lt; (<a class="code" href="class_ether_m_a_c_base.html#p2">promiscuous</a> ? <span class="stringliteral">", promiscuous mode"</span> : <span class="stringliteral">""</span>) &lt;&lt; endl;
00268     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"txrate: "</span> &lt;&lt; <a class="code" href="class_ether_m_a_c_base.html#p8">txrate</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; (<a class="code" href="class_ether_m_a_c_base.html#p5">duplexMode</a> ? <span class="stringliteral">"duplex"</span> : <span class="stringliteral">"half-duplex"</span>) &lt;&lt; endl;
00269 <span class="preprocessor">#if 0</span>
00270 <span class="preprocessor"></span>    <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"bitTime: "</span> &lt;&lt; <a class="code" href="class_ether_m_a_c_base.html#p9">bitTime</a> &lt;&lt; endl;
00271     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"carrierExtension: "</span> &lt;&lt; <a class="code" href="class_ether_m_a_c_base.html#p6">carrierExtension</a> &lt;&lt; endl;
00272     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"frameBursting: "</span> &lt;&lt; <a class="code" href="class_ether_m_a_c_base.html#p7">frameBursting</a> &lt;&lt; endl;
00273     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"slotTime: "</span> &lt;&lt; <a class="code" href="class_ether_m_a_c_base.html#p10">slotTime</a> &lt;&lt; endl;
00274     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"interFrameGap: "</span> &lt;&lt; <a class="code" href="class_ether_m_a_c_base.html#p11">interFrameGap</a> &lt;&lt; endl;
00275     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; endl;
00276 <span class="preprocessor">#endif</span>
00277 <span class="preprocessor"></span>}
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b12" doxytag="EtherMACBase::processFrameFromUpperLayer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::processFrameFromUpperLayer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ether_frame.html">EtherFrame</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented in <a class="el" href="class_ether_m_a_c.html#d0">EtherMAC</a>, and <a class="el" href="class_ether_m_a_c2.html#b4">EtherMAC2</a>.<div class="fragment"><pre class="fragment">00280 {
00281     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Received frame from upper layer: "</span> &lt;&lt; frame &lt;&lt; endl;
00282 
00283     <span class="comment">// check message kind</span>
00284     <span class="keywordflow">if</span> (frame-&gt;kind()!=<a class="code" href="_ether_frame__m_8h.html#a2">ETH_FRAME</a> &amp;&amp; frame-&gt;kind()!=<a class="code" href="_ether_frame__m_8h.html#a3">ETH_PAUSE</a>)
00285         error(<span class="stringliteral">"message with unexpected message kind %d arrived from higher layer"</span>, frame-&gt;kind());
00286 
00287     <span class="comment">// pause frames must be EtherPauseFrame AND kind==ETH_PAUSE</span>
00288     ASSERT((frame-&gt;kind()==<a class="code" href="_ether_frame__m_8h.html#a3">ETH_PAUSE</a>) == (dynamic_cast&lt;EtherPauseFrame *&gt;(frame)!=NULL));
00289 
00290     <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="class_ether_frame.html#a7">getDest</a>().<a class="code" href="class_m_a_c_address.html#a15">equals</a>(address))
00291     {
00292         error(<span class="stringliteral">"logic error: frame %s from higher layer has local MAC address as dest (%s)"</span>,
00293               frame-&gt;fullName(), frame-&gt;<a class="code" href="class_ether_frame.html#a7">getDest</a>().<a class="code" href="class_m_a_c_address.html#a14">str</a>().c_str());
00294     }
00295 
00296     <span class="keywordflow">if</span> (frame-&gt;byteLength() &gt; <a class="code" href="_ethernet_8h.html#a3">MAX_ETHERNET_FRAME</a>)
00297         error(<span class="stringliteral">"packet from higher layer (%d bytes) exceeds maximum Ethernet frame size (%d)"</span>, frame-&gt;byteLength(), <a class="code" href="_ethernet_8h.html#a3">MAX_ETHERNET_FRAME</a>);
00298 
00299     <span class="comment">// must be ETH_FRAME (or ETH_PAUSE) from upper layer</span>
00300     <span class="keywordtype">bool</span> isPauseFrame = (frame-&gt;kind()==<a class="code" href="_ether_frame__m_8h.html#a3">ETH_PAUSE</a>);
00301     <span class="keywordflow">if</span> (!isPauseFrame)
00302     {
00303         <a class="code" href="class_ether_m_a_c_base.html#p31">numFramesFromHL</a>++;
00304 
00305         <span class="keywordflow">if</span> (txQueueLimit &amp;&amp; <a class="code" href="class_ether_m_a_c_base.html#p17">txQueue</a>.length()&gt;<a class="code" href="class_ether_m_a_c_base.html#p4">txQueueLimit</a>)
00306             error(<span class="stringliteral">"txQueue length exceeds %d -- this is probably due to "</span>
00307                   <span class="stringliteral">"a bogus app model generating excessive traffic "</span>
00308                   <span class="stringliteral">"(or if this is normal, increase txQueueLimit!)"</span>,
00309                   txQueueLimit);
00310 
00311         <span class="comment">// fill in src address if not set</span>
00312         <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="class_ether_frame.html#a10">getSrc</a>().<a class="code" href="class_m_a_c_address.html#a13">isUnspecified</a>())
00313             frame-&gt;<a class="code" href="class_ether_frame.html#a12">setSrc</a>(address);
00314 
00315         <span class="comment">// store frame and possibly begin transmitting</span>
00316         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Packet "</span> &lt;&lt; frame &lt;&lt; <span class="stringliteral">" arrived from higher layers, enqueueing\n"</span>;
00317         <a class="code" href="class_ether_m_a_c_base.html#p17">txQueue</a>.insert(frame);
00318     }
00319     <span class="keywordflow">else</span>
00320     {
00321         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"PAUSE received from higher layer\n"</span>;
00322 
00323         <span class="comment">// PAUSE frames enjoy priority -- they're transmitted before all other frames queued up</span>
00324         <span class="keywordflow">if</span> (!<a class="code" href="class_ether_m_a_c_base.html#p17">txQueue</a>.empty())
00325             <a class="code" href="class_ether_m_a_c_base.html#p17">txQueue</a>.insertBefore(<a class="code" href="class_ether_m_a_c_base.html#p17">txQueue</a>.tail(), frame);  <span class="comment">// tail() frame is probably being transmitted</span>
00326         <span class="keywordflow">else</span>
00327             <a class="code" href="class_ether_m_a_c_base.html#p17">txQueue</a>.insert(frame);
00328     }
00329 
00330 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b15" doxytag="EtherMACBase::processMessageWhenDisabled"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::processMessageWhenDisabled           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00496 {
00497     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"MAC is disabled -- dropping message "</span> &lt;&lt; msg &lt;&lt; endl;
00498     <span class="keyword">delete</span> msg;
00499 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b14" doxytag="EtherMACBase::processMessageWhenNotConnected"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::processMessageWhenNotConnected           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00489 {
00490     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Interface is not connected -- dropping packet "</span> &lt;&lt; msg &lt;&lt; endl;
00491     <span class="keyword">delete</span> msg;
00492     <a class="code" href="class_ether_m_a_c_base.html#p32">numDroppedIfaceDown</a>++;
00493 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b13" doxytag="EtherMACBase::processMsgFromNetwork"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::processMsgFromNetwork           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented in <a class="el" href="class_ether_m_a_c.html#d1">EtherMAC</a>, and <a class="el" href="class_ether_m_a_c2.html#b5">EtherMAC2</a>.<div class="fragment"><pre class="fragment">00333 {
00334     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Received frame from network: "</span> &lt;&lt; frame &lt;&lt; endl;
00335 
00336     <span class="comment">// frame must be ETH_FRAME, ETH_PAUSE or JAM_SIGNAL</span>
00337     <span class="keywordflow">if</span> (frame-&gt;kind()!=<a class="code" href="_ether_frame__m_8h.html#a2">ETH_FRAME</a> &amp;&amp; frame-&gt;kind()!=<a class="code" href="_ether_frame__m_8h.html#a3">ETH_PAUSE</a> &amp;&amp; frame-&gt;kind()!=<a class="code" href="_ether_frame__m_8h.html#a1">JAM_SIGNAL</a>)
00338         error(<span class="stringliteral">"message with unexpected message kind %d arrived from network"</span>, frame-&gt;kind());
00339 
00340     <span class="comment">// detect cable length violation in half-duplex mode</span>
00341     <span class="keywordflow">if</span> (!duplexMode &amp;&amp; simTime()-frame-&gt;sendingTime()&gt;=<a class="code" href="class_ether_m_a_c_base.html#p13">shortestFrameDuration</a>)
00342         error(<span class="stringliteral">"very long frame propagation time detected, maybe cable exceeds maximum allowed length? "</span>
00343               <span class="stringliteral">"(%lgs corresponds to an approx. %lgm cable)"</span>,
00344               simTime()-frame-&gt;sendingTime(),
00345               (simTime()-frame-&gt;sendingTime())*200000000.0);
00346 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b27" doxytag="EtherMACBase::processPauseCommand"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::processPauseCommand           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pauseUnits</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00402 {
00403     <span class="keywordflow">if</span> (transmitState==TX_IDLE_STATE)
00404     {
00405         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"PAUSE frame received, pausing for "</span> &lt;&lt; <a class="code" href="class_ether_m_a_c_base.html#p16">pauseUnitsRequested</a> &lt;&lt; <span class="stringliteral">" time units\n"</span>;
00406         <span class="keywordflow">if</span> (pauseUnits&gt;0)
00407             scheduleEndPausePeriod(pauseUnits);
00408     }
00409     else if (transmitState==PAUSE_STATE)
00410     {
00411         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"PAUSE frame received, pausing for "</span> &lt;&lt; pauseUnitsRequested &lt;&lt; <span class="stringliteral">" more time units from now\n"</span>;
00412         cancelEvent(endPauseMsg);
00413         <span class="keywordflow">if</span> (pauseUnits&gt;0)
00414             scheduleEndPausePeriod(pauseUnits);
00415     }
00416     else
00417     {
00418         <span class="comment">// transmitter busy -- wait until it finishes with current frame (endTx)</span>
00419         <span class="comment">// and then it'll go to PAUSE state</span>
00420         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"PAUSE frame received, storing pause request\n"</span>;
00421         pauseUnitsRequested = pauseUnits;
00422     }
00423 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b26" doxytag="EtherMACBase::processReceivedDataFrame"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::processReceivedDataFrame           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ether_frame.html">EtherFrame</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>frame</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00372 {
00373     <span class="comment">// bit errors</span>
00374     <span class="keywordflow">if</span> (frame-&gt;hasBitError())
00375     {
00376         <a class="code" href="class_ether_m_a_c_base.html#p33">numDroppedBitError</a>++;
00377         <a class="code" href="class_ether_m_a_c_base.html#p43">numDroppedBitErrorVector</a>.record(numDroppedBitError);
00378         <span class="keyword">delete</span> frame;
00379         <span class="keywordflow">return</span>;
00380     }
00381 
00382     <span class="comment">// strip preamble and SFD</span>
00383     frame-&gt;addByteLength(-PREAMBLE_BYTES-SFD_BYTES);
00384 
00385     <span class="comment">// statistics</span>
00386     <a class="code" href="class_ether_m_a_c_base.html#p28">numFramesReceivedOK</a>++;
00387     <a class="code" href="class_ether_m_a_c_base.html#p30">numBytesReceivedOK</a> += frame-&gt;byteLength();
00388     <a class="code" href="class_ether_m_a_c_base.html#p39">numFramesReceivedOKVector</a>.record(numFramesReceivedOK);
00389     <a class="code" href="class_ether_m_a_c_base.html#p41">numBytesReceivedOKVector</a>.record(numBytesReceivedOK);
00390 
00391     <span class="keywordflow">if</span> (!<a class="code" href="class_ether_m_a_c_base.html#b8">checkDestinationAddress</a>(frame))
00392         return;
00393 
00394     numFramesPassedToHL++;
00395     numFramesPassedToHLVector.record(numFramesPassedToHL);
00396 
00397     <span class="comment">// pass up to upper layer</span>
00398     send(frame, "upperLayerOut");
00399 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="EtherMACBase::queueLength"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long EtherMACBase::queueLength           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00125 {<span class="keywordflow">return</span> <a class="code" href="class_ether_m_a_c_base.html#p17">txQueue</a>.length();}
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b7" doxytag="EtherMACBase::registerInterface"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::registerInterface           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>txrate</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00174 {
00175     <a class="code" href="class_interface_table.html">InterfaceTable</a> *ift = <a class="code" href="class_interface_table_access.html">InterfaceTableAccess</a>().getIfExists();
00176     <span class="keywordflow">if</span> (!ift)
00177         return;
00178 
00179     interfaceEntry = new <a class="code" href="class_interface_entry.html">InterfaceEntry</a>();
00180 
00181     <span class="comment">// interface name: our module name without special characters ([])</span>
00182     <span class="keywordtype">char</span> *interfaceName = new <span class="keywordtype">char</span>[strlen(parentModule()-&gt;fullName())+1];
00183     <span class="keywordtype">char</span> *d=interfaceName;
00184     for (const <span class="keywordtype">char</span> *s=parentModule()-&gt;fullName(); *s; s++)
00185         if (isalnum(*s))
00186             *d++ = *s;
00187     *d = '\0';
00188 
00189     interfaceEntry-&gt;setName(interfaceName);
00190     delete [] interfaceName;
00191 
00192     <span class="comment">// data rate</span>
00193     interfaceEntry-&gt;setDatarate(txrate);
00194 
00195     <span class="comment">// generate a link-layer address to be used as interface token for IPv6</span>
00196     interfaceEntry-&gt;setMACAddress(address);
00197     interfaceEntry-&gt;setInterfaceToken(address.formInterfaceIdentifier());
00198     <span class="comment">//InterfaceToken token(0, simulation.getUniqueNumber(), 64);</span>
00199     <span class="comment">//interfaceEntry-&gt;setInterfaceToken(token);</span>
00200 
00201     <span class="comment">// MTU: typical values are 576 (Internet de facto), 1500 (Ethernet-friendly),</span>
00202     <span class="comment">// 4000 (on some point-to-point links), 4470 (Cisco routers default, FDDI compatible)</span>
00203     interfaceEntry-&gt;setMtu(1500);
00204 
00205     <span class="comment">// capabilities</span>
00206     interfaceEntry-&gt;setMulticast(true);
00207     interfaceEntry-&gt;setBroadcast(true);
00208 
00209     <span class="comment">// add</span>
00210     ift-&gt;addInterface(interfaceEntry, this);
00211 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b19" doxytag="EtherMACBase::scheduleEndIFGPeriod"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::scheduleEndIFGPeriod           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00502 {
00503     scheduleAt(simTime()+interFrameGap, endIFGMsg);
00504     <a class="code" href="class_ether_m_a_c_base.html#p14">transmitState</a> = <a class="code" href="_ether_m_a_c_base_8h.html#a8">WAIT_IFG_STATE</a>;
00505 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b21" doxytag="EtherMACBase::scheduleEndPausePeriod"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::scheduleEndPausePeriod           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pauseUnits</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00514 {
00515     <span class="comment">// length is interpreted as 512-bit-time units</span>
00516     <span class="keywordtype">double</span> pausePeriod = pauseUnits*<a class="code" href="_ethernet_8h.html#a18">PAUSE_BITTIME</a>*<a class="code" href="class_ether_m_a_c_base.html#p9">bitTime</a>;
00517     scheduleAt(simTime()+pausePeriod, endPauseMsg);
00518     <a class="code" href="class_ether_m_a_c_base.html#p14">transmitState</a> = <a class="code" href="_ether_m_a_c_base_8h.html#a12">PAUSE_STATE</a>;
00519 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b20" doxytag="EtherMACBase::scheduleEndTxPeriod"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::scheduleEndTxPeriod           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00508 {
00509     scheduleAt(simTime()+frame-&gt;length()*<a class="code" href="class_ether_m_a_c_base.html#p9">bitTime</a>, <a class="code" href="class_ether_m_a_c_base.html#p22">endTxMsg</a>);
00510     <a class="code" href="class_ether_m_a_c_base.html#p14">transmitState</a> = <a class="code" href="_ether_m_a_c_base_8h.html#a9">TRANSMITTING_STATE</a>;
00511 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b29" doxytag="EtherMACBase::updateConnectionColor"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::updateConnectionColor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>txState</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00652 {
00653     <span class="keyword">const</span> <span class="keywordtype">char</span> *color;
00654     <span class="keywordflow">if</span> (txState==TRANSMITTING_STATE)
00655         color = "yellow";
00656     else if (txState==JAMMING_STATE || txState==BACKOFF_STATE)
00657         color = "red";
00658     else
00659         color = "";
00660 
00661     cGate *g = gate("physOut");
00662     while (g &amp;&amp; g-&gt;type()=='O')
00663     {
00664         g-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,0,color);
00665         g-&gt;displayString().setTagArg(<span class="stringliteral">"o"</span>,1, color[0] ? <span class="stringliteral">"3"</span> : <span class="stringliteral">"1"</span>);
00666         g = g-&gt;toGate();
00667     }
00668 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b28" doxytag="EtherMACBase::updateDisplayString"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EtherMACBase::updateDisplayString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00600 {
00601     <span class="comment">// icon coloring</span>
00602     <span class="keyword">const</span> <span class="keywordtype">char</span> *color;
00603     <span class="keywordflow">if</span> (receiveState==RX_COLLISION_STATE)
00604         color = "red";
00605     else if (transmitState==TRANSMITTING_STATE)
00606         color = "yellow";
00607     else if (transmitState==JAMMING_STATE)
00608         color = "red";
00609     else if (receiveState==RECEIVING_STATE)
00610         color = "#4040ff";
00611     else if (transmitState==BACKOFF_STATE)
00612         color = "white";
00613     else if (transmitState==PAUSE_STATE)
00614         color = "gray";
00615     else
00616         color = "";
00617     displayString().setTagArg("i",1,color);
00618     if (!strcmp(parentModule()-&gt;className(),"EthernetInterface"))
00619         parentModule()-&gt;displayString().setTagArg("i",1,color);
00620 
00621     <span class="comment">// connection coloring</span>
00622     updateConnectionColor(transmitState);
00623 
00624 #if 0
00625     <span class="comment">// this code works but didn't turn out to be very useful</span>
00626     const <span class="keywordtype">char</span> *txStateName;
00627     switch (transmitState) {
00628         <span class="keywordflow">case</span> <a class="code" href="_ether_m_a_c_base_8h.html#a7">TX_IDLE_STATE</a>:      txStateName=<span class="stringliteral">"IDLE"</span>; <span class="keywordflow">break</span>;
00629         <span class="keywordflow">case</span> <a class="code" href="_ether_m_a_c_base_8h.html#a8">WAIT_IFG_STATE</a>:     txStateName=<span class="stringliteral">"WAIT_IFG"</span>; <span class="keywordflow">break</span>;
00630         <span class="keywordflow">case</span> <a class="code" href="_ether_m_a_c_base_8h.html#a9">TRANSMITTING_STATE</a>: txStateName=<span class="stringliteral">"TX"</span>; <span class="keywordflow">break</span>;
00631         <span class="keywordflow">case</span> <a class="code" href="_ether_m_a_c_base_8h.html#a10">JAMMING_STATE</a>:      txStateName=<span class="stringliteral">"JAM"</span>; <span class="keywordflow">break</span>;
00632         <span class="keywordflow">case</span> <a class="code" href="_ether_m_a_c_base_8h.html#a11">BACKOFF_STATE</a>:      txStateName=<span class="stringliteral">"BACKOFF"</span>; <span class="keywordflow">break</span>;
00633         <span class="keywordflow">case</span> <a class="code" href="_ether_m_a_c_base_8h.html#a12">PAUSE_STATE</a>:        txStateName=<span class="stringliteral">"PAUSE"</span>; <span class="keywordflow">break</span>;
00634         <span class="keywordflow">default</span>: error(<span class="stringliteral">"wrong tx state"</span>);
00635     }
00636     <span class="keyword">const</span> <span class="keywordtype">char</span> *rxStateName;
00637     <span class="keywordflow">switch</span> (receiveState) {
00638         <span class="keywordflow">case</span> <a class="code" href="_ether_m_a_c_base_8h.html#a13">RX_IDLE_STATE</a>:      rxStateName=<span class="stringliteral">"IDLE"</span>; <span class="keywordflow">break</span>;
00639         <span class="keywordflow">case</span> <a class="code" href="_ether_m_a_c_base_8h.html#a14">RECEIVING_STATE</a>:    rxStateName=<span class="stringliteral">"RX"</span>; <span class="keywordflow">break</span>;
00640         <span class="keywordflow">case</span> <a class="code" href="_ether_m_a_c_base_8h.html#a15">RX_COLLISION_STATE</a>: rxStateName=<span class="stringliteral">"COLL"</span>; <span class="keywordflow">break</span>;
00641         <span class="keywordflow">default</span>: error(<span class="stringliteral">"wrong rx state"</span>);
00642     }
00643 
00644     <span class="keywordtype">char</span> buf[80];
00645     sprintf(buf, <span class="stringliteral">"tx:%s rx: %s\n#boff:%d #cTx:%d"</span>,
00646                  txStateName, rxStateName, backoffs, numConcurrentTransmissions);
00647     displayString().setTagArg(<span class="stringliteral">"t"</span>,0,buf);
00648 <span class="preprocessor">#endif</span>
00649 <span class="preprocessor"></span>}
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="p3" doxytag="EtherMACBase::address"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_m_a_c_address.html">MACAddress</a> <a class="el" href="class_ether_m_a_c_base.html#p3">EtherMACBase::address</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p9" doxytag="EtherMACBase::bitTime"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ether_m_a_c_base.html#p9">EtherMACBase::bitTime</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p26" doxytag="EtherMACBase::bytesSentInBurst"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_ether_m_a_c_base.html#p26">EtherMACBase::bytesSentInBurst</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p6" doxytag="EtherMACBase::carrierExtension"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="class_ether_m_a_c_base.html#p6">EtherMACBase::carrierExtension</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p0" doxytag="EtherMACBase::connected"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="class_ether_m_a_c_base.html#p0">EtherMACBase::connected</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p1" doxytag="EtherMACBase::disabled"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="class_ether_m_a_c_base.html#p1">EtherMACBase::disabled</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p5" doxytag="EtherMACBase::duplexMode"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="class_ether_m_a_c_base.html#p5">EtherMACBase::duplexMode</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p23" doxytag="EtherMACBase::endIFGMsg"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage * <a class="el" href="class_ether_m_a_c_base.html#p23">EtherMACBase::endIFGMsg</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p24" doxytag="EtherMACBase::endPauseMsg"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage * <a class="el" href="class_ether_m_a_c_base.html#p24">EtherMACBase::endPauseMsg</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p22" doxytag="EtherMACBase::endTxMsg"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage* <a class="el" href="class_ether_m_a_c_base.html#p22">EtherMACBase::endTxMsg</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p7" doxytag="EtherMACBase::frameBursting"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="class_ether_m_a_c_base.html#p7">EtherMACBase::frameBursting</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p25" doxytag="EtherMACBase::framesSentInBurst"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_ether_m_a_c_base.html#p25">EtherMACBase::framesSentInBurst</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p19" doxytag="EtherMACBase::interfaceEntry"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_interface_entry.html">InterfaceEntry</a>* <a class="el" href="class_ether_m_a_c_base.html#p19">EtherMACBase::interfaceEntry</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p11" doxytag="EtherMACBase::interFrameGap"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ether_m_a_c_base.html#p11">EtherMACBase::interFrameGap</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p12" doxytag="EtherMACBase::jamDuration"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ether_m_a_c_base.html#p12">EtherMACBase::jamDuration</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p20" doxytag="EtherMACBase::nb"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_notification_board.html">NotificationBoard</a>* <a class="el" href="class_ether_m_a_c_base.html#p20">EtherMACBase::nb</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p21" doxytag="EtherMACBase::notifDetails"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_tx_notif_details.html">TxNotifDetails</a> <a class="el" href="class_ether_m_a_c_base.html#p21">EtherMACBase::notifDetails</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p30" doxytag="EtherMACBase::numBytesReceivedOK"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p30">EtherMACBase::numBytesReceivedOK</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p41" doxytag="EtherMACBase::numBytesReceivedOKVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p41">EtherMACBase::numBytesReceivedOKVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p29" doxytag="EtherMACBase::numBytesSent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p29">EtherMACBase::numBytesSent</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p40" doxytag="EtherMACBase::numBytesSentVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p40">EtherMACBase::numBytesSentVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p33" doxytag="EtherMACBase::numDroppedBitError"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p33">EtherMACBase::numDroppedBitError</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p43" doxytag="EtherMACBase::numDroppedBitErrorVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p43">EtherMACBase::numDroppedBitErrorVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p32" doxytag="EtherMACBase::numDroppedIfaceDown"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p32">EtherMACBase::numDroppedIfaceDown</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p42" doxytag="EtherMACBase::numDroppedIfaceDownVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p42">EtherMACBase::numDroppedIfaceDownVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p34" doxytag="EtherMACBase::numDroppedNotForUs"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p34">EtherMACBase::numDroppedNotForUs</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p44" doxytag="EtherMACBase::numDroppedNotForUsVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p44">EtherMACBase::numDroppedNotForUsVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p31" doxytag="EtherMACBase::numFramesFromHL"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p31">EtherMACBase::numFramesFromHL</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p35" doxytag="EtherMACBase::numFramesPassedToHL"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p35">EtherMACBase::numFramesPassedToHL</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p45" doxytag="EtherMACBase::numFramesPassedToHLVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p45">EtherMACBase::numFramesPassedToHLVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p28" doxytag="EtherMACBase::numFramesReceivedOK"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p28">EtherMACBase::numFramesReceivedOK</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p39" doxytag="EtherMACBase::numFramesReceivedOKVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p39">EtherMACBase::numFramesReceivedOKVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p27" doxytag="EtherMACBase::numFramesSent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p27">EtherMACBase::numFramesSent</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p38" doxytag="EtherMACBase::numFramesSentVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p38">EtherMACBase::numFramesSentVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p36" doxytag="EtherMACBase::numPauseFramesRcvd"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p36">EtherMACBase::numPauseFramesRcvd</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p46" doxytag="EtherMACBase::numPauseFramesRcvdVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p46">EtherMACBase::numPauseFramesRcvdVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p37" doxytag="EtherMACBase::numPauseFramesSent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned long <a class="el" href="class_ether_m_a_c_base.html#p37">EtherMACBase::numPauseFramesSent</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p47" doxytag="EtherMACBase::numPauseFramesSentVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector <a class="el" href="class_ether_m_a_c_base.html#p47">EtherMACBase::numPauseFramesSentVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p16" doxytag="EtherMACBase::pauseUnitsRequested"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_ether_m_a_c_base.html#p16">EtherMACBase::pauseUnitsRequested</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p2" doxytag="EtherMACBase::promiscuous"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="class_ether_m_a_c_base.html#p2">EtherMACBase::promiscuous</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p18" doxytag="EtherMACBase::queueModule"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_i_passive_queue.html">IPassiveQueue</a>* <a class="el" href="class_ether_m_a_c_base.html#p18">EtherMACBase::queueModule</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p15" doxytag="EtherMACBase::receiveState"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_ether_m_a_c_base.html#p15">EtherMACBase::receiveState</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p13" doxytag="EtherMACBase::shortestFrameDuration"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ether_m_a_c_base.html#p13">EtherMACBase::shortestFrameDuration</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p10" doxytag="EtherMACBase::slotTime"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ether_m_a_c_base.html#p10">EtherMACBase::slotTime</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p14" doxytag="EtherMACBase::transmitState"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_ether_m_a_c_base.html#p14">EtherMACBase::transmitState</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p17" doxytag="EtherMACBase::txQueue"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cQueue <a class="el" href="class_ether_m_a_c_base.html#p17">EtherMACBase::txQueue</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p4" doxytag="EtherMACBase::txQueueLimit"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_ether_m_a_c_base.html#p4">EtherMACBase::txQueueLimit</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p8" doxytag="EtherMACBase::txrate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ether_m_a_c_base.html#p8">EtherMACBase::txrate</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_ether_m_a_c_base_8h.html">EtherMACBase.h</a><li><a class="el" href="_ether_m_a_c_base_8cc.html">EtherMACBase.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 18:22:22 2006 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
