<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INET Framework for OMNeT++/OMNEST: SimpleClassifier Class Reference</title>
<link href="opp.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>SimpleClassifier Class Reference</h1><code>#include &lt;SimpleClassifier.h&gt;</code>
<p>
<p>Inheritance diagram for SimpleClassifier:
<p><center><img src="class_simple_classifier.png" usemap="#SimpleClassifier_map" border="0" alt=""></center>
<map name="SimpleClassifier_map">
<area href="class_i_scriptable.html" alt="IScriptable" shape="rect" coords="0,56,102,80">
<area href="class_i_r_s_v_p_classifier.html" alt="IRSVPClassifier" shape="rect" coords="112,56,214,80">
<area href="class_i_classifier.html" alt="IClassifier" shape="rect" coords="112,0,214,24">
</map>
<a href="class_simple_classifier-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
TODO documentation 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a0">SimpleClassifier</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#b0">initialize</a> (int stage)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#b1">numInitStages</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#b2">handleMessage</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#b3">processCommand</a> (const cXMLElement &amp;node)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#b4">lookupLabel</a> (<a class="el" href="class_i_p_datagram.html">IPDatagram</a> *ipdatagram, <a class="el" href="_l_i_b_table_8h.html#a3">LabelOpVector</a> &amp;outLabel, std::string &amp;outInterface, int &amp;color)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#b5">bind</a> (const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;sender, int inLabel)</td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#d0">readTableFromXML</a> (const cXMLElement *fectable)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#d1">readItemFromXML</a> (const cXMLElement *fec)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">std::vector&lt; <a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">FECEntry</a> &gt;::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#d2">findFEC</a> (int fecid)</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#r0">routerId</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#r1">maxLabel</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">std::vector&lt; <a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">FECEntry</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#r2">bindings</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_l_i_b_table.html">LIBTable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#r3">lt</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_r_s_v_p.html">RSVP</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#r4">rsvp</a></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">FECEntry</a></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="SimpleClassifier::SimpleClassifier"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">SimpleClassifier::SimpleClassifier           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00059 {}
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b5" doxytag="SimpleClassifier::bind"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SimpleClassifier::bind           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>inLabel</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implements <a class="el" href="class_i_r_s_v_p_classifier.html#a1">IRSVPClassifier</a>.<div class="fragment"><pre class="fragment">00094 {
00095     std::vector&lt;FECEntry&gt;::iterator it;
00096     <span class="keywordflow">for</span> (it = <a class="code" href="class_simple_classifier.html#r2">bindings</a>.begin(); it != <a class="code" href="class_simple_classifier.html#r2">bindings</a>.end(); it++)
00097     {
00098         <span class="keywordflow">if</span> (it-&gt;session != session)
00099             continue;
00100 
00101         if (it-&gt;sender != sender)
00102             continue;
00103 
00104         it-&gt;inLabel = inLabel;
00105     }
00106 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d2" doxytag="SimpleClassifier::findFEC"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">std::vector&lt; <a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">SimpleClassifier::FECEntry</a> &gt;::iterator SimpleClassifier::findFEC           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fecid</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00214 {
00215     std::vector&lt;FECEntry&gt;::iterator it;
00216     <span class="keywordflow">for</span> (it = <a class="code" href="class_simple_classifier.html#r2">bindings</a>.begin(); it != <a class="code" href="class_simple_classifier.html#r2">bindings</a>.end(); it++)
00217     {
00218         <span class="keywordflow">if</span> (it-&gt;id != fecid)
00219             continue;
00220 
00221         break;
00222     }
00223     return it;
00224 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="SimpleClassifier::handleMessage"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SimpleClassifier::handleMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00049 {
00050     ASSERT(<span class="keyword">false</span>);
00051 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="SimpleClassifier::initialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SimpleClassifier::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>stage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00026 {
00027     <span class="comment">// we have to wait until routerId gets assigned in stage 3</span>
00028     <span class="keywordflow">if</span> (stage!=4)
00029         return;
00030 
00031     maxLabel = 0;
00032 
00033     <a class="code" href="class_routing_table_access.html">RoutingTableAccess</a> routingTableAccess;
00034     <a class="code" href="class_routing_table.html">RoutingTable</a> *rt = routingTableAccess.get();
00035     routerId = rt-&gt;routerId();
00036 
00037     <a class="code" href="class_l_i_b_table_access.html">LIBTableAccess</a> libTableAccess;
00038     lt = libTableAccess.get();
00039 
00040     <a class="code" href="class_r_s_v_p_access.html">RSVPAccess</a> rsvpAccess;
00041     rsvp = rsvpAccess.get();
00042 
00043     readTableFromXML(par("conf").xmlValue());
00044 
00045     WATCH_VECTOR(bindings);
00046 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b4" doxytag="SimpleClassifier::lookupLabel"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool SimpleClassifier::lookupLabel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_i_p_datagram.html">IPDatagram</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ipdatagram</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="_l_i_b_table_8h.html#a3">LabelOpVector</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>outLabel</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>outInterface</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>color</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The ipdatagram argument is an input parameter, the rest (outLabel, outInterface, color) are output parameters only.<p>
In subclasses, this function should be implemented to determine the forwarding equivalence class for the <a class="el" href="class_i_p.html">IP</a> datagram passed, and map it to an outLabel and outInterface.<p>
The color parameter (which can be set to an arbitrary value) will only be used for the NAM trace if one will be recorded. 
<p>
Implements <a class="el" href="class_i_classifier.html#a1">IClassifier</a>.<div class="fragment"><pre class="fragment">00056 {
00057     <span class="comment">// never label OSPF(TED) and RSVP traffic</span>
00058 
00059     <span class="keywordflow">switch</span>(ipdatagram-&gt;<a class="code" href="class_i_p_datagram.html#a17">transportProtocol</a>())
00060     {
00061         <span class="keywordflow">case</span> <a class="code" href="_i_p_protocol_id__m_8h.html#a23a14">IP_PROT_OSPF</a>:
00062         <span class="keywordflow">case</span> <a class="code" href="_i_p_protocol_id__m_8h.html#a23a10">IP_PROT_RSVP</a>:
00063             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00064 
00065         <span class="keywordflow">default</span>:
00066             ;
00067     }
00068 
00069     <span class="comment">// forwarding decision for non-labeled datagrams</span>
00070 
00071     std::vector&lt;FECEntry&gt;::iterator it;
00072     <span class="keywordflow">for</span> (it = <a class="code" href="class_simple_classifier.html#r2">bindings</a>.begin(); it != <a class="code" href="class_simple_classifier.html#r2">bindings</a>.end(); it++)
00073     {
00074         <span class="keywordflow">if</span> (!it-&gt;dest.isUnspecified() &amp;&amp; !it-&gt;dest.equals(ipdatagram-&gt;<a class="code" href="class_i_p_datagram.html#a14">destAddress</a>()))
00075             <span class="keywordflow">continue</span>;
00076 
00077         <span class="keywordflow">if</span> (!it-&gt;src.isUnspecified() &amp;&amp; !it-&gt;src.equals(ipdatagram-&gt;<a class="code" href="class_i_p_datagram.html#a11">srcAddress</a>()))
00078             <span class="keywordflow">continue</span>;
00079 
00080         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"packet belongs to fecid="</span> &lt;&lt; it-&gt;id &lt;&lt; endl;
00081 
00082         <span class="keywordflow">if</span> (it-&gt;inLabel &lt; 0)
00083             return false;
00084 
00085         return lt-&gt;resolveLabel("", it-&gt;inLabel, outLabel, outInterface, color);
00086     }
00087 
00088     return false;
00089 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="SimpleClassifier::numInitStages"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int SimpleClassifier::numInitStages           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00063 {<span class="keywordflow">return</span> 5;}
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b3" doxytag="SimpleClassifier::processCommand"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SimpleClassifier::processCommand           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const cXMLElement &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>node</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called by <a class="el" href="class_scenario_manager.html">ScenarioManager</a> whenever a script command needs to be carried out by the module.<p>
The command is represented by the XML element or element tree. The command name can be obtained as:<p>
<pre>
 const char *command = node-&gt;getTagName()
 </pre><p>
Parameters are XML attributes, e.g. a "neighbour" parameter can be retrieved as:<p>
<pre>
 const char *attr = node-&gt;getAttribute("neighbour")
 </pre><p>
More complex input can be passed in child elements.<p>
<dl compact><dt><b>See also:</b></dt><dd>cXMLElement </dd></dl>

<p>
Implements <a class="el" href="class_i_scriptable.html#a1">IScriptable</a>.<div class="fragment"><pre class="fragment">00111 {
00112     <span class="keywordflow">if</span> (!strcmp(node.getTagName(), <span class="stringliteral">"bind-fec"</span>))
00113     {
00114         <a class="code" href="class_simple_classifier.html#d1">readItemFromXML</a>(&amp;node);
00115     }
00116     <span class="keywordflow">else</span>
00117         ASSERT(<span class="keyword">false</span>);
00118 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="SimpleClassifier::readItemFromXML"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SimpleClassifier::readItemFromXML           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const cXMLElement *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fec</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00134 {
00135     ASSERT(fec);
00136     ASSERT(!strcmp(fec-&gt;getTagName(), <span class="stringliteral">"fecentry"</span>) || !strcmp(fec-&gt;getTagName(), <span class="stringliteral">"bind-fec"</span>));
00137 
00138     <span class="keywordtype">int</span> fecid = <a class="code" href="_x_m_l_utils_8cc.html#a8">getParameterIntValue</a>(fec, <span class="stringliteral">"id"</span>);
00139 
00140     std::vector&lt;FECEntry&gt;::iterator it = <a class="code" href="class_simple_classifier.html#d2">findFEC</a>(fecid);
00141 
00142     <span class="keywordflow">if</span> (<a class="code" href="_x_m_l_utils_8cc.html#a1">getUniqueChildIfExists</a>(fec, <span class="stringliteral">"label"</span>))
00143     {
00144         <span class="comment">// bind-fec to label</span>
00145         <a class="code" href="_x_m_l_utils_8cc.html#a3">checkTags</a>(fec, <span class="stringliteral">"id label destination source"</span>);
00146 
00147         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"binding to a given label"</span> &lt;&lt; endl;
00148 
00149         FECEntry newFec;
00150 
00151         newFec.id = fecid;
00152         newFec.dest = <a class="code" href="_x_m_l_utils_8cc.html#a10">getParameterIPAddressValue</a>(fec, <span class="stringliteral">"destination"</span>);
00153         newFec.src = <a class="code" href="_x_m_l_utils_8cc.html#a10">getParameterIPAddressValue</a>(fec, <span class="stringliteral">"source"</span>, <a class="code" href="class_i_p_address.html">IPAddress</a>());
00154 
00155         newFec.inLabel = <a class="code" href="_x_m_l_utils_8cc.html#a8">getParameterIntValue</a>(fec, <span class="stringliteral">"label"</span>);
00156 
00157         <span class="keywordflow">if</span> (it == <a class="code" href="class_simple_classifier.html#r2">bindings</a>.end())
00158         {
00159             <span class="comment">// create new binding</span>
00160             <a class="code" href="class_simple_classifier.html#r2">bindings</a>.push_back(newFec);
00161         }
00162         <span class="keywordflow">else</span>
00163         {
00164             <span class="comment">// update existing binding</span>
00165             *it = newFec;
00166         }
00167     }
00168     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_x_m_l_utils_8cc.html#a1">getUniqueChildIfExists</a>(fec, <span class="stringliteral">"lspid"</span>))
00169     {
00170         <span class="comment">// bind-fec to LSP</span>
00171         <a class="code" href="_x_m_l_utils_8cc.html#a3">checkTags</a>(fec, <span class="stringliteral">"id destination source tunnel_id extended_tunnel_id endpoint lspid"</span>);
00172 
00173         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"binding to a given path"</span> &lt;&lt; endl;
00174 
00175         FECEntry newFec;
00176 
00177         newFec.id = fecid;
00178         newFec.dest = <a class="code" href="_x_m_l_utils_8cc.html#a10">getParameterIPAddressValue</a>(fec, <span class="stringliteral">"destination"</span>);
00179         newFec.src = <a class="code" href="_x_m_l_utils_8cc.html#a10">getParameterIPAddressValue</a>(fec, <span class="stringliteral">"source"</span>, <a class="code" href="class_i_p_address.html">IPAddress</a>());
00180 
00181         newFec.session.Tunnel_Id = <a class="code" href="_x_m_l_utils_8cc.html#a8">getParameterIntValue</a>(fec, <span class="stringliteral">"tunnel_id"</span>);
00182         newFec.session.Extended_Tunnel_Id = <a class="code" href="_x_m_l_utils_8cc.html#a10">getParameterIPAddressValue</a>(fec, <span class="stringliteral">"extened_tunnel_id"</span>, routerId).<a class="code" href="class_i_p_address.html#a5">getInt</a>();
00183         newFec.session.DestAddress = <a class="code" href="_x_m_l_utils_8cc.html#a10">getParameterIPAddressValue</a>(fec, <span class="stringliteral">"endpoint"</span>, newFec.dest); <span class="comment">// ??? always use newFec.dest ???</span>
00184 
00185         newFec.sender.Lsp_Id = <a class="code" href="_x_m_l_utils_8cc.html#a8">getParameterIntValue</a>(fec, <span class="stringliteral">"lspid"</span>);
00186         newFec.sender.SrcAddress = <a class="code" href="class_simple_classifier.html#r0">routerId</a>;
00187 
00188         newFec.inLabel = <a class="code" href="class_simple_classifier.html#r4">rsvp</a>-&gt;<a class="code" href="class_r_s_v_p.html#d0">getInLabel</a>(newFec.session, newFec.sender);
00189 
00190         <span class="keywordflow">if</span> (it == <a class="code" href="class_simple_classifier.html#r2">bindings</a>.end())
00191         {
00192             <span class="comment">// create new binding</span>
00193             <a class="code" href="class_simple_classifier.html#r2">bindings</a>.push_back(newFec);
00194         }
00195         <span class="keywordflow">else</span>
00196         {
00197             <span class="comment">// update existing binding</span>
00198             *it = newFec;
00199         }
00200     }
00201     <span class="keywordflow">else</span>
00202     {
00203         <span class="comment">// un-bind</span>
00204         <a class="code" href="_x_m_l_utils_8cc.html#a3">checkTags</a>(fec, <span class="stringliteral">"id"</span>);
00205 
00206         <span class="keywordflow">if</span> (it != <a class="code" href="class_simple_classifier.html#r2">bindings</a>.end())
00207         {
00208             <a class="code" href="class_simple_classifier.html#r2">bindings</a>.erase(it);
00209         }
00210     }
00211 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="SimpleClassifier::readTableFromXML"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SimpleClassifier::readTableFromXML           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const cXMLElement *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fectable</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00124 {
00125     ASSERT(fectable);
00126     ASSERT(!strcmp(fectable-&gt;getTagName(), <span class="stringliteral">"fectable"</span>));
00127     <a class="code" href="_x_m_l_utils_8cc.html#a3">checkTags</a>(fectable, <span class="stringliteral">"fecentry"</span>);
00128     cXMLElementList list = fectable-&gt;getChildrenByTagName(<span class="stringliteral">"fecentry"</span>);
00129     <span class="keywordflow">for</span> (cXMLElementList::iterator it=list.begin(); it != list.end(); it++)
00130         <a class="code" href="class_simple_classifier.html#d1">readItemFromXML</a>(*it);
00131 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r2" doxytag="SimpleClassifier::bindings"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">std::vector&lt;<a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">FECEntry</a>&gt; <a class="el" href="class_simple_classifier.html#r2">SimpleClassifier::bindings</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="SimpleClassifier::lt"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_l_i_b_table.html">LIBTable</a>* <a class="el" href="class_simple_classifier.html#r3">SimpleClassifier::lt</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="SimpleClassifier::maxLabel"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_simple_classifier.html#r1">SimpleClassifier::maxLabel</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="SimpleClassifier::routerId"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_i_p_address.html">IPAddress</a> <a class="el" href="class_simple_classifier.html#r0">SimpleClassifier::routerId</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="SimpleClassifier::rsvp"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_r_s_v_p.html">RSVP</a>* <a class="el" href="class_simple_classifier.html#r4">SimpleClassifier::rsvp</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_simple_classifier_8h.html">SimpleClassifier.h</a><li><a class="el" href="_simple_classifier_8cc.html">SimpleClassifier.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 18:22:30 2006 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
