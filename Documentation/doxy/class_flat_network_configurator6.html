<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INET Framework for OMNeT++/OMNEST: FlatNetworkConfigurator6 Class Reference</title>
<link href="opp.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>FlatNetworkConfigurator6 Class Reference</h1><code>#include &lt;FlatNetworkConfigurator6.h&gt;</code>
<p>
<a href="class_flat_network_configurator6-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Configures <a class="el" href="class_i_pv6.html">IPv6</a> addresses and routing tables for a "flat" network, "flat" meaning that all hosts and routers will have the same network address.<p>
For more info please see the NED file. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flat_network_configurator6.html#w0">StringVector</a></td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flat_network_configurator6.html#b0">numInitStages</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flat_network_configurator6.html#b1">initialize</a> (int stage)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flat_network_configurator6.html#b2">handleMessage</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flat_network_configurator6.html#b3">configureAdvPrefixes</a> (cTopology &amp;topo, <a class="el" href="class_flat_network_configurator6.html#w0">StringVector</a> &amp;nonIPTypes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flat_network_configurator6.html#b4">addOwnAdvPrefixRoutes</a> (cTopology &amp;topo, <a class="el" href="class_flat_network_configurator6.html#w0">StringVector</a> &amp;nonIPTypes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flat_network_configurator6.html#b5">addStaticRoutes</a> (cTopology &amp;topo, <a class="el" href="class_flat_network_configurator6.html#w0">StringVector</a> &amp;nonIPTypes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flat_network_configurator6.html#b6">setDisplayString</a> (int numIPNodes, int numNonIPNodes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flat_network_configurator6.html#b7">isNonIPType</a> (cTopology::Node *node, <a class="el" href="class_flat_network_configurator6.html#w0">StringVector</a> &amp;nonIPTypes)</td></tr>

</table>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="w0" doxytag="FlatNetworkConfigurator6::StringVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef std::vector&lt;std::string&gt; <a class="el" href="class_flat_network_configurator6.html#w0">FlatNetworkConfigurator6::StringVector</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b4" doxytag="FlatNetworkConfigurator6::addOwnAdvPrefixRoutes"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void FlatNetworkConfigurator6::addOwnAdvPrefixRoutes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cTopology &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>topo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="class_flat_network_configurator6.html#w0">StringVector</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>nonIPTypes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b5" doxytag="FlatNetworkConfigurator6::addStaticRoutes"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void FlatNetworkConfigurator6::addStaticRoutes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cTopology &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>topo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="class_flat_network_configurator6.html#w0">StringVector</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>nonIPTypes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b3" doxytag="FlatNetworkConfigurator6::configureAdvPrefixes"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void FlatNetworkConfigurator6::configureAdvPrefixes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cTopology &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>topo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="class_flat_network_configurator6.html#w0">StringVector</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>nonIPTypes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="FlatNetworkConfigurator6::handleMessage"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void FlatNetworkConfigurator6::handleMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00068 {
00069     error(<span class="stringliteral">"this module doesn't handle messages, it runs only in initialize()"</span>);
00070 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="FlatNetworkConfigurator6::initialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void FlatNetworkConfigurator6::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>stage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00038 {
00039 <span class="preprocessor">#ifdef WITH_IPv6</span>
00040 <span class="preprocessor"></span>    <span class="comment">// FIXME refactor: make routers[] array? (std::vector&lt;cTopology::Node*&gt;)</span>
00041     <span class="comment">// FIXME: spare common beginning for all stages?</span>
00042 
00043     cTopology topo(<span class="stringliteral">"topo"</span>);
00044     <a class="code" href="class_flat_network_configurator6.html#w0">StringVector</a> types = cStringTokenizer(par(<span class="stringliteral">"moduleTypes"</span>), <span class="stringliteral">" "</span>).asVector();
00045     <a class="code" href="class_flat_network_configurator6.html#w0">StringVector</a> nonIPTypes = cStringTokenizer(par(<span class="stringliteral">"nonIPModuleTypes"</span>), <span class="stringliteral">" "</span>).asVector();
00046     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;nonIPTypes.size(); i++)
00047         types.push_back(nonIPTypes[i]);
00048 
00049     <span class="comment">// extract topology</span>
00050     topo.extractByModuleType(types);
00051     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"cTopology found "</span> &lt;&lt; topo.nodes() &lt;&lt; <span class="stringliteral">" nodes\n"</span>;
00052 
00053     <span class="keywordflow">if</span> (stage==2)
00054     {
00055         <a class="code" href="class_flat_network_configurator6.html#b3">configureAdvPrefixes</a>(topo, nonIPTypes);
00056     }
00057     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stage==3)
00058     {
00059         <a class="code" href="class_flat_network_configurator6.html#b4">addOwnAdvPrefixRoutes</a>(topo, nonIPTypes);
00060         <a class="code" href="class_flat_network_configurator6.html#b5">addStaticRoutes</a>(topo, nonIPTypes);
00061     }
00062 <span class="preprocessor">#else</span>
00063 <span class="preprocessor"></span>    error(<span class="stringliteral">"FlatNetworkConfigurator6 not supported: WITH_IPv6 option was off during compilation"</span>);
00064 <span class="preprocessor">#endif</span>
00065 <span class="preprocessor"></span>}
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b7" doxytag="FlatNetworkConfigurator6::isNonIPType"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool FlatNetworkConfigurator6::isNonIPType           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cTopology::Node *&nbsp;</td>
          <td class="mdname" nowrap> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="class_flat_network_configurator6.html#w0">StringVector</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>nonIPTypes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00081 {
00082     <span class="keywordflow">return</span> <a class="code" href="_r_s_v_p___t_e_2_utils_8cc.html#a2">std::find</a>(nonIPTypes.begin(), nonIPTypes.end(), node-&gt;module()-&gt;className())!=nonIPTypes.end();
00083 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="FlatNetworkConfigurator6::numInitStages"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int FlatNetworkConfigurator6::numInitStages           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00040 {<span class="keywordflow">return</span> 4;}
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b6" doxytag="FlatNetworkConfigurator6::setDisplayString"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void FlatNetworkConfigurator6::setDisplayString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>numIPNodes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>numNonIPNodes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00073 {
00074     <span class="comment">// update display string</span>
00075     <span class="keywordtype">char</span> buf[80];
00076     sprintf(buf, <span class="stringliteral">"%d IPv6 nodes\n%d non-IP nodes"</span>, numIPNodes, numNonIPNodes);
00077     displayString().setTagArg(<span class="stringliteral">"t"</span>, 0, buf);
00078 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_flat_network_configurator6_8h.html">FlatNetworkConfigurator6.h</a><li><a class="el" href="_flat_network_configurator6_8cc.html">FlatNetworkConfigurator6.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 18:22:22 2006 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
