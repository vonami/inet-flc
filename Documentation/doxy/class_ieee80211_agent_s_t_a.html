<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INET Framework for OMNeT++/OMNEST: Ieee80211AgentSTA Class Reference</title>
<link href="opp.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Ieee80211AgentSTA Class Reference</h1><code>#include &lt;Ieee80211AgentSTA.h&gt;</code>
<p>
<p>Inheritance diagram for Ieee80211AgentSTA:
<p><center><img src="class_ieee80211_agent_s_t_a.png" usemap="#Ieee80211AgentSTA_map" border="0" alt=""></center>
<map name="Ieee80211AgentSTA_map">
<area href="class_i_notifiable.html" alt="INotifiable" shape="rect" coords="0,0,128,24">
</map>
<a href="class_ieee80211_agent_s_t_a-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Used in 802.11 infrastructure mode: in a station (STA), this module controls channel scanning, association and handovers, by sending commands (e.g. <a class="el" href="class_ieee80211_prim___scan_request.html">Ieee80211Prim_ScanRequest</a>) to the management module (<a class="el" href="class_ieee80211_mgmt_s_t_a.html">Ieee80211MgmtSTA</a>).<p>
See corresponding NED file for a detailed description.<p>
<dl compact><dt><b>Author:</b></dt><dd>Andras Varga </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#b0">numInitStages</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#b1">initialize</a> (int)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#b2">handleMessage</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#b3">handleTimer</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#b4">handleResponse</a> (cMessage *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#b5">receiveChangeNotification</a> (int category, cPolymorphic *details)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#b6">sendRequest</a> (<a class="el" href="class_ieee80211_prim_request.html">Ieee80211PrimRequest</a> *req)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#b7">chooseBSS</a> (<a class="el" href="class_ieee80211_prim___scan_confirm.html">Ieee80211Prim_ScanConfirm</a> *resp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#b8">dumpAPList</a> (<a class="el" href="class_ieee80211_prim___scan_confirm.html">Ieee80211Prim_ScanConfirm</a> *resp)</td></tr>

<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z90_0">sendScanRequest</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z90_1">sendAuthenticateRequest</a> (const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;address)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z90_2">sendDeauthenticateRequest</a> (const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;address, int reasonCode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z90_3">sendAssociateRequest</a> (const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;address)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z90_4">sendReassociateRequest</a> (const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;address)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z90_5">sendDisassociateRequest</a> (const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;address, int reasonCode)</td></tr>

<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z91_0">processScanConfirm</a> (<a class="el" href="class_ieee80211_prim___scan_confirm.html">Ieee80211Prim_ScanConfirm</a> *resp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z91_1">processAuthenticateConfirm</a> (<a class="el" href="class_ieee80211_prim___authenticate_confirm.html">Ieee80211Prim_AuthenticateConfirm</a> *resp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z91_2">processAssociateConfirm</a> (<a class="el" href="class_ieee80211_prim___associate_confirm.html">Ieee80211Prim_AssociateConfirm</a> *resp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#z91_3">processReassociateConfirm</a> (<a class="el" href="class_ieee80211_prim___reassociate_confirm.html">Ieee80211Prim_ReassociateConfirm</a> *resp)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#p0">activeScan</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">std::vector&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#p1">channelsToScan</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#p2">probeDelay</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#p3">minChannelTime</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#p4">maxChannelTime</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#p5">authenticationTimeout</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_agent_s_t_a.html#p6">associationTimeout</a></td></tr>

</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b7" doxytag="Ieee80211AgentSTA::chooseBSS"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Ieee80211AgentSTA::chooseBSS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ieee80211_prim___scan_confirm.html">Ieee80211Prim_ScanConfirm</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>resp</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Choose one AP from the list to associate with <div class="fragment"><pre class="fragment">00219 {
00220     <span class="keywordflow">if</span> (resp-&gt;<a class="code" href="class_ieee80211_prim___scan_confirm.html#a7">getBssListArraySize</a>()==0)
00221         <span class="keywordflow">return</span> -1;
00222 
00223     <span class="comment">// here, just choose the one with the greatest receive power</span>
00224     <span class="comment">// TODO and which supports a good data rate we support</span>
00225     <span class="keywordtype">int</span> bestIndex = 0;
00226     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;resp-&gt;getBssListArraySize(); i++)
00227         if (resp-&gt;getBssList(i).getRxPower() &gt; resp-&gt;getBssList(bestIndex).getRxPower())
00228             bestIndex = i;
00229     return bestIndex;
00230 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b8" doxytag="Ieee80211AgentSTA::dumpAPList"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::dumpAPList           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ieee80211_prim___scan_confirm.html">Ieee80211Prim_ScanConfirm</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>resp</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00202 {
00203     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Received AP list:\n"</span>;
00204     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;resp-&gt;getBssListArraySize(); i++)
00205     {
00206         <a class="code" href="class_ieee80211_prim___b_s_s_description.html">Ieee80211Prim_BSSDescription</a>&amp; bssDesc = resp-&gt;<a class="code" href="class_ieee80211_prim___scan_confirm.html#a8">getBssList</a>(i);
00207         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"    "</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">". "</span>
00208            &lt;&lt; <span class="stringliteral">" address="</span> &lt;&lt; bssDesc.<a class="code" href="class_ieee80211_prim___b_s_s_description.html#a8">getBSSID</a>()
00209            &lt;&lt; <span class="stringliteral">" channel="</span> &lt;&lt; bssDesc.<a class="code" href="class_ieee80211_prim___b_s_s_description.html#a6">getChannelNumber</a>()
00210            &lt;&lt; <span class="stringliteral">" SSID="</span> &lt;&lt; bssDesc.<a class="code" href="class_ieee80211_prim___b_s_s_description.html#a11">getSSID</a>()
00211            &lt;&lt; <span class="stringliteral">" beaconIntvl="</span> &lt;&lt; bssDesc.<a class="code" href="class_ieee80211_prim___b_s_s_description.html#a16">getBeaconInterval</a>()
00212            &lt;&lt; <span class="stringliteral">" rxPower="</span> &lt;&lt; bssDesc.<a class="code" href="class_ieee80211_prim___b_s_s_description.html#a18">getRxPower</a>()
00213            &lt;&lt; endl;
00214         <span class="comment">// later: supportedRates</span>
00215     }
00216 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="Ieee80211AgentSTA::handleMessage"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::handleMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Overridden cSimpleModule method <div class="fragment"><pre class="fragment">00055 {
00056     <span class="keywordflow">if</span> (msg-&gt;isSelfMessage())
00057         <a class="code" href="class_ieee80211_agent_s_t_a.html#b3">handleTimer</a>(msg);
00058     <span class="keywordflow">else</span>
00059         <a class="code" href="class_ieee80211_agent_s_t_a.html#b4">handleResponse</a>(msg);
00060 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b4" doxytag="Ieee80211AgentSTA::handleResponse"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::handleResponse           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle responses from mgmgt <div class="fragment"><pre class="fragment">00077 {
00078     cPolymorphic *ctrl = msg-&gt;removeControlInfo();
00079     <span class="keyword">delete</span> msg;
00080 
00081     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Processing confirmation from mgmt: "</span> &lt;&lt; ctrl-&gt;className() &lt;&lt; <span class="stringliteral">"\n"</span>;
00082 
00083     <span class="keywordflow">if</span> (dynamic_cast&lt;Ieee80211Prim_ScanConfirm *&gt;(ctrl))
00084         <a class="code" href="class_ieee80211_agent_s_t_a.html#z91_0">processScanConfirm</a>((<a class="code" href="class_ieee80211_prim___scan_confirm.html">Ieee80211Prim_ScanConfirm</a> *)ctrl);
00085     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;Ieee80211Prim_AuthenticateConfirm *&gt;(ctrl))
00086         <a class="code" href="class_ieee80211_agent_s_t_a.html#z91_1">processAuthenticateConfirm</a>((<a class="code" href="class_ieee80211_prim___authenticate_confirm.html">Ieee80211Prim_AuthenticateConfirm</a> *)ctrl);
00087     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;Ieee80211Prim_AssociateConfirm *&gt;(ctrl))
00088         <a class="code" href="class_ieee80211_agent_s_t_a.html#z91_2">processAssociateConfirm</a>((<a class="code" href="class_ieee80211_prim___associate_confirm.html">Ieee80211Prim_AssociateConfirm</a> *)ctrl);
00089     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;Ieee80211Prim_ReassociateConfirm *&gt;(ctrl))
00090         <a class="code" href="class_ieee80211_agent_s_t_a.html#z91_3">processReassociateConfirm</a>((<a class="code" href="class_ieee80211_prim___reassociate_confirm.html">Ieee80211Prim_ReassociateConfirm</a> *)ctrl);
00091     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ctrl)
00092         error("handleResponse(): unrecognized control info class `%s'", ctrl-&gt;className());
00093     else
00094         error("handleResponse(): control info is NULL");
00095     delete ctrl;
00096 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b3" doxytag="Ieee80211AgentSTA::handleTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::handleTimer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle timers <div class="fragment"><pre class="fragment">00063 {
00064     <span class="keywordflow">if</span> (msg-&gt;kind()==<a class="code" href="_ieee80211_agent_s_t_a_8cc.html#a0">MK_STARTUP</a>)
00065     {
00066         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Starting up\n"</span>;
00067         <a class="code" href="class_ieee80211_agent_s_t_a.html#z90_0">sendScanRequest</a>();
00068         <span class="keyword">delete</span> msg;
00069     }
00070     <span class="keywordflow">else</span>
00071     {
00072         error(<span class="stringliteral">"internal error: unrecognized timer '%s'"</span>, msg-&gt;name());
00073     }
00074 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="Ieee80211AgentSTA::initialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00031 {
00032     <span class="keywordflow">if</span> (stage==0)
00033     {
00034         <span class="comment">// read parameters</span>
00035         <a class="code" href="class_ieee80211_agent_s_t_a.html#p0">activeScan</a> = par(<span class="stringliteral">"activeScan"</span>);
00036         <a class="code" href="class_ieee80211_agent_s_t_a.html#p2">probeDelay</a> = par(<span class="stringliteral">"probeDelay"</span>);
00037         <a class="code" href="class_ieee80211_agent_s_t_a.html#p3">minChannelTime</a> = par(<span class="stringliteral">"minChannelTime"</span>);
00038         <a class="code" href="class_ieee80211_agent_s_t_a.html#p4">maxChannelTime</a> = par(<span class="stringliteral">"maxChannelTime"</span>);
00039         <a class="code" href="class_ieee80211_agent_s_t_a.html#p5">authenticationTimeout</a> = par(<span class="stringliteral">"authenticationTimeout"</span>);
00040         <a class="code" href="class_ieee80211_agent_s_t_a.html#p6">associationTimeout</a> = par(<span class="stringliteral">"associationTimeout"</span>);
00041         cStringTokenizer tokenizer(par(<span class="stringliteral">"channelsToScan"</span>));
00042         <span class="keyword">const</span> <span class="keywordtype">char</span> *token;
00043         <span class="keywordflow">while</span> ((token = tokenizer.nextToken())!=NULL)
00044             <a class="code" href="class_ieee80211_agent_s_t_a.html#p1">channelsToScan</a>.push_back(atoi(token));
00045 
00046         <a class="code" href="class_notification_board.html">NotificationBoard</a> *nb = <a class="code" href="class_notification_board_access.html">NotificationBoardAccess</a>().get();
00047         nb-&gt;<a class="code" href="class_notification_board.html#z22_0">subscribe</a>(<span class="keyword">this</span>, NF_L2_BEACON_LOST);
00048 
00049         <span class="comment">// start up: send scan request</span>
00050         scheduleAt(simTime(), <span class="keyword">new</span> cMessage(<span class="stringliteral">"startUp"</span>, MK_STARTUP));
00051     }
00052 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="Ieee80211AgentSTA::numInitStages"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int Ieee80211AgentSTA::numInitStages           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00049 {<span class="keywordflow">return</span> 2;}
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z91_2" doxytag="Ieee80211AgentSTA::processAssociateConfirm"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::processAssociateConfirm           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ieee80211_prim___associate_confirm.html">Ieee80211Prim_AssociateConfirm</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>resp</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00250 {
00251     <span class="keywordflow">if</span> (resp-&gt;<a class="code" href="class_ieee80211_prim_confirm.html#a6">getResultCode</a>()!=<a class="code" href="_ieee80211_primitives__m_8h.html#a50a16">PRC_SUCCESS</a>)
00252     {
00253         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Association error\n"</span>;
00254 
00255         <span class="comment">// try scanning again, maybe we'll have better luck next time, possibly with a different AP</span>
00256         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Going back to scanning\n"</span>;
00257         <a class="code" href="class_ieee80211_agent_s_t_a.html#z90_0">sendScanRequest</a>();
00258     }
00259     <span class="keywordflow">else</span>
00260     {
00261         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Association successful\n"</span>;
00262         <span class="comment">// we are happy!</span>
00263         parentModule()-&gt;parentModule()-&gt;bubble(<span class="stringliteral">"Associated with AP"</span>);
00264     }
00265 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z91_1" doxytag="Ieee80211AgentSTA::processAuthenticateConfirm"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::processAuthenticateConfirm           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ieee80211_prim___authenticate_confirm.html">Ieee80211Prim_AuthenticateConfirm</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>resp</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00233 {
00234     <span class="keywordflow">if</span> (resp-&gt;<a class="code" href="class_ieee80211_prim_confirm.html#a6">getResultCode</a>()!=<a class="code" href="_ieee80211_primitives__m_8h.html#a50a16">PRC_SUCCESS</a>)
00235     {
00236         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Authentication error\n"</span>;
00237 
00238         <span class="comment">// try scanning again, maybe we'll have better luck next time, possibly with a different AP</span>
00239         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Going back to scanning\n"</span>;
00240         <a class="code" href="class_ieee80211_agent_s_t_a.html#z90_0">sendScanRequest</a>();
00241     }
00242     <span class="keywordflow">else</span>
00243     {
00244         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Authentication successful, let's try to associate\n"</span>;
00245         <a class="code" href="class_ieee80211_agent_s_t_a.html#z90_3">sendAssociateRequest</a>(resp-&gt;<a class="code" href="class_ieee80211_prim___authenticate_confirm.html#a6">getAddress</a>());
00246     }
00247 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z91_3" doxytag="Ieee80211AgentSTA::processReassociateConfirm"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::processReassociateConfirm           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ieee80211_prim___reassociate_confirm.html">Ieee80211Prim_ReassociateConfirm</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>resp</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00268 {
00269     <span class="comment">// treat the same way as AssociateConfirm</span>
00270     <span class="keywordflow">if</span> (resp-&gt;<a class="code" href="class_ieee80211_prim_confirm.html#a6">getResultCode</a>()!=<a class="code" href="_ieee80211_primitives__m_8h.html#a50a16">PRC_SUCCESS</a>)
00271     {
00272         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Reassociation error\n"</span>;
00273         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Going back to scanning\n"</span>;
00274         <a class="code" href="class_ieee80211_agent_s_t_a.html#z90_0">sendScanRequest</a>();
00275     }
00276     <span class="keywordflow">else</span>
00277     {
00278         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Reassociation successful\n"</span>;
00279         <span class="comment">// we are happy!</span>
00280     }
00281 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z91_0" doxytag="Ieee80211AgentSTA::processScanConfirm"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::processScanConfirm           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ieee80211_prim___scan_confirm.html">Ieee80211Prim_ScanConfirm</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>resp</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Processing Confirm primitives <div class="fragment"><pre class="fragment">00184 {
00185     <span class="comment">// choose best AP</span>
00186     <span class="keywordtype">int</span> bssIndex = <a class="code" href="class_ieee80211_agent_s_t_a.html#b7">chooseBSS</a>(resp);
00187     <span class="keywordflow">if</span> (bssIndex==-1)
00188     {
00189         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"No (suitable) AP found, continue scanning\n"</span>;
00190         <a class="code" href="class_ieee80211_agent_s_t_a.html#z90_0">sendScanRequest</a>();
00191         <span class="keywordflow">return</span>;
00192     }
00193 
00194     <a class="code" href="class_ieee80211_agent_s_t_a.html#b8">dumpAPList</a>(resp);
00195 
00196     <a class="code" href="class_ieee80211_prim___b_s_s_description.html">Ieee80211Prim_BSSDescription</a>&amp; bssDesc = resp-&gt;<a class="code" href="class_ieee80211_prim___scan_confirm.html#a8">getBssList</a>(bssIndex);
00197     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Chosen AP address="</span> &lt;&lt; bssDesc.<a class="code" href="class_ieee80211_prim___b_s_s_description.html#a8">getBSSID</a>() &lt;&lt; <span class="stringliteral">" from list, starting authentication\n"</span>;
00198     <a class="code" href="class_ieee80211_agent_s_t_a.html#z90_1">sendAuthenticateRequest</a>(bssDesc.<a class="code" href="class_ieee80211_prim___b_s_s_description.html#a8">getBSSID</a>());
00199 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b5" doxytag="Ieee80211AgentSTA::receiveChangeNotification"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::receiveChangeNotification           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>cPolymorphic *&nbsp;</td>
          <td class="mdname" nowrap> <em>details</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Redefined from <a class="el" href="class_i_notifiable.html">INotifiable</a>; called by <a class="el" href="class_notification_board.html">NotificationBoard</a> 
<p>
Implements <a class="el" href="class_i_notifiable.html#a1">INotifiable</a>.<div class="fragment"><pre class="fragment">00099 {
00100     Enter_Method_Silent();
00101     <a class="code" href="_notifier_consts_8cc.html#a1">printNotificationBanner</a>(category, details);
00102 
00103     <span class="keywordflow">if</span> (category == NF_L2_BEACON_LOST)
00104     {
00105         <span class="comment">//XXX should check details if it's about this NIC</span>
00106         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"beacon lost, starting scanning again\n"</span>;
00107         parentModule()-&gt;parentModule()-&gt;bubble(<span class="stringliteral">"Beacon lost!"</span>);
00108         <span class="comment">//sendDisassociateRequest();</span>
00109         <a class="code" href="class_ieee80211_agent_s_t_a.html#z90_0">sendScanRequest</a>();
00110     }
00111 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z90_3" doxytag="Ieee80211AgentSTA::sendAssociateRequest"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::sendAssociateRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>address</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00157 {
00158     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Sending AssociateRequest primitive to mgmt\n"</span>;
00159     <a class="code" href="class_ieee80211_prim___associate_request.html">Ieee80211Prim_AssociateRequest</a> *req = <span class="keyword">new</span> <a class="code" href="class_ieee80211_prim___associate_request.html">Ieee80211Prim_AssociateRequest</a>();
00160     req-&gt;<a class="code" href="class_ieee80211_prim___associate_request.html#a8">setAddress</a>(address);
00161     req-&gt;<a class="code" href="class_ieee80211_prim___associate_request.html#a10">setTimeout</a>(associationTimeout);
00162     <a class="code" href="class_ieee80211_agent_s_t_a.html#b6">sendRequest</a>(req);
00163 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z90_1" doxytag="Ieee80211AgentSTA::sendAuthenticateRequest"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::sendAuthenticateRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>address</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00139 {
00140     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Sending AuthenticateRequest primitive to mgmt\n"</span>;
00141     <a class="code" href="class_ieee80211_prim___authenticate_request.html">Ieee80211Prim_AuthenticateRequest</a> *req = <span class="keyword">new</span> <a class="code" href="class_ieee80211_prim___authenticate_request.html">Ieee80211Prim_AuthenticateRequest</a>();
00142     req-&gt;<a class="code" href="class_ieee80211_prim___authenticate_request.html#a8">setAddress</a>(address);
00143     req-&gt;<a class="code" href="class_ieee80211_prim___authenticate_request.html#a10">setTimeout</a>(authenticationTimeout);
00144     <a class="code" href="class_ieee80211_agent_s_t_a.html#b6">sendRequest</a>(req);
00145 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z90_2" doxytag="Ieee80211AgentSTA::sendDeauthenticateRequest"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::sendDeauthenticateRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>reasonCode</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00148 {
00149     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Sending DeauthenticateRequest primitive to mgmt\n"</span>;
00150     <a class="code" href="class_ieee80211_prim___deauthenticate_request.html">Ieee80211Prim_DeauthenticateRequest</a> *req = <span class="keyword">new</span> <a class="code" href="class_ieee80211_prim___deauthenticate_request.html">Ieee80211Prim_DeauthenticateRequest</a>();
00151     req-&gt;<a class="code" href="class_ieee80211_prim___deauthenticate_request.html#a8">setAddress</a>(address);
00152     req-&gt;<a class="code" href="class_ieee80211_prim___deauthenticate_request.html#a10">setReasonCode</a>(reasonCode);
00153     <a class="code" href="class_ieee80211_agent_s_t_a.html#b6">sendRequest</a>(req);
00154 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z90_5" doxytag="Ieee80211AgentSTA::sendDisassociateRequest"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::sendDisassociateRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>reasonCode</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00175 {
00176     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Sending DisassociateRequest primitive to mgmt\n"</span>;
00177     <a class="code" href="class_ieee80211_prim___disassociate_request.html">Ieee80211Prim_DisassociateRequest</a> *req = <span class="keyword">new</span> <a class="code" href="class_ieee80211_prim___disassociate_request.html">Ieee80211Prim_DisassociateRequest</a>();
00178     req-&gt;<a class="code" href="class_ieee80211_prim___disassociate_request.html#a8">setAddress</a>(address);
00179     req-&gt;<a class="code" href="class_ieee80211_prim___disassociate_request.html#a10">setReasonCode</a>(reasonCode);
00180     <a class="code" href="class_ieee80211_agent_s_t_a.html#b6">sendRequest</a>(req);
00181 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z90_4" doxytag="Ieee80211AgentSTA::sendReassociateRequest"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::sendReassociateRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="class_m_a_c_address.html">MACAddress</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>address</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00166 {
00167     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Sending ReassociateRequest primitive to mgmt\n"</span>;
00168     <a class="code" href="class_ieee80211_prim___reassociate_request.html">Ieee80211Prim_ReassociateRequest</a> *req = <span class="keyword">new</span> <a class="code" href="class_ieee80211_prim___reassociate_request.html">Ieee80211Prim_ReassociateRequest</a>();
00169     req-&gt;<a class="code" href="class_ieee80211_prim___associate_request.html#a8">setAddress</a>(address);
00170     req-&gt;<a class="code" href="class_ieee80211_prim___associate_request.html#a10">setTimeout</a>(associationTimeout);
00171     <a class="code" href="class_ieee80211_agent_s_t_a.html#b6">sendRequest</a>(req);
00172 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b6" doxytag="Ieee80211AgentSTA::sendRequest"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::sendRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_ieee80211_prim_request.html">Ieee80211PrimRequest</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>req</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00114 {
00115     cMessage *msg = <span class="keyword">new</span> cMessage(req-&gt;className());
00116     msg-&gt;setControlInfo(req);
00117     send(msg, <span class="stringliteral">"mgmtOut"</span>);
00118 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z90_0" doxytag="Ieee80211AgentSTA::sendScanRequest"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Ieee80211AgentSTA::sendScanRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sending of Request primitives <div class="fragment"><pre class="fragment">00122 {
00123     <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Sending ScanRequest primitive to mgmt\n"</span>;
00124     <a class="code" href="class_ieee80211_prim___scan_request.html">Ieee80211Prim_ScanRequest</a> *req = <span class="keyword">new</span> <a class="code" href="class_ieee80211_prim___scan_request.html">Ieee80211Prim_ScanRequest</a>();
00125     req-&gt;<a class="code" href="class_ieee80211_prim___scan_request.html#a7">setBSSType</a>(BSSTYPE_INFRASTRUCTURE);
00126     req-&gt;<a class="code" href="class_ieee80211_prim___scan_request.html#a14">setActiveScan</a>(activeScan);
00127     req-&gt;<a class="code" href="class_ieee80211_prim___scan_request.html#a16">setProbeDelay</a>(probeDelay);
00128     req-&gt;<a class="code" href="class_ieee80211_prim___scan_request.html#a22">setMinChannelTime</a>(minChannelTime);
00129     req-&gt;<a class="code" href="class_ieee80211_prim___scan_request.html#a24">setMaxChannelTime</a>(maxChannelTime);
00130     req-&gt;<a class="code" href="class_ieee80211_prim___scan_request.html#a17">setChannelListArraySize</a>(<a class="code" href="class_ieee80211_agent_s_t_a.html#p1">channelsToScan</a>.size());
00131     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_ieee80211_agent_s_t_a.html#p1">channelsToScan</a>.size(); i++)
00132         req-&gt;<a class="code" href="class_ieee80211_prim___scan_request.html#a20">setChannelList</a>(i, channelsToScan[i]);
00133     <span class="comment">//XXX BSSID, SSID are left at default ("any")</span>
00134 
00135     <a class="code" href="class_ieee80211_agent_s_t_a.html#b6">sendRequest</a>(req);
00136 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="p0" doxytag="Ieee80211AgentSTA::activeScan"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="class_ieee80211_agent_s_t_a.html#p0">Ieee80211AgentSTA::activeScan</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p6" doxytag="Ieee80211AgentSTA::associationTimeout"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ieee80211_agent_s_t_a.html#p6">Ieee80211AgentSTA::associationTimeout</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p5" doxytag="Ieee80211AgentSTA::authenticationTimeout"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ieee80211_agent_s_t_a.html#p5">Ieee80211AgentSTA::authenticationTimeout</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p1" doxytag="Ieee80211AgentSTA::channelsToScan"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">std::vector&lt;int&gt; <a class="el" href="class_ieee80211_agent_s_t_a.html#p1">Ieee80211AgentSTA::channelsToScan</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p4" doxytag="Ieee80211AgentSTA::maxChannelTime"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ieee80211_agent_s_t_a.html#p4">Ieee80211AgentSTA::maxChannelTime</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p3" doxytag="Ieee80211AgentSTA::minChannelTime"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ieee80211_agent_s_t_a.html#p3">Ieee80211AgentSTA::minChannelTime</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p2" doxytag="Ieee80211AgentSTA::probeDelay"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="class_ieee80211_agent_s_t_a.html#p2">Ieee80211AgentSTA::probeDelay</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_ieee80211_agent_s_t_a_8h.html">Ieee80211AgentSTA.h</a><li><a class="el" href="_ieee80211_agent_s_t_a_8cc.html">Ieee80211AgentSTA.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 18:22:22 2006 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
