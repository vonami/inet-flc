<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INET Framework for OMNeT++/OMNEST: ErrAndCollDecider Class Reference</title>
<link href="opp.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>ErrAndCollDecider Class Reference</h1><code>#include &lt;ErrAndCollDecider.h&gt;</code>
<p>
<p>Inheritance diagram for ErrAndCollDecider:
<p><center><img src="class_err_and_coll_decider.png" usemap="#ErrAndCollDecider_map" border="0" alt=""></center>
<map name="ErrAndCollDecider_map">
<area href="class_snr_decider.html" alt="SnrDecider" shape="rect" coords="0,168,120,192">
<area href="class_basic_decider.html" alt="BasicDecider" shape="rect" coords="0,112,120,136">
<area href="class_basic_module.html" alt="BasicModule" shape="rect" coords="0,56,120,80">
<area href="class_i_notifiable.html" alt="INotifiable" shape="rect" coords="0,0,120,24">
</map>
<a href="class_err_and_coll_decider-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
decider module for the <a class="el" href="class_gilbert_elliot_snr.html">GilbertElliotSnr</a> module 
<p>
This decider simply takes a look at the sduList contained in the received PhySDU packet and checks whether one of the mentioned snr levels is lower than the snrThresholdLevel which has to be read in at the beginning of a simulation (suggestion: from the omnetpp.ini file!). If there is such a level the packet is considered to be lost due to a collision. On top of that the packet can also be lost due to the BAD state of the digital channel model model (see e.g. <a class="el" href="class_gilbert_elliot_snr.html">GilbertElliotSnr</a> module). This module should be used in combination with digital channel modules like <a class="el" href="class_gilbert_elliot_snr.html">GilbertElliotSnr</a>.<p>
<dl compact><dt><b>Author:</b></dt><dd>Marc Löbbers </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_err_and_coll_decider.html#b0">handleLowerMsg</a> (<a class="el" href="class_air_frame.html">AirFrame</a> *, <a class="el" href="_snr_list_8h.html#a0">SnrList</a> &amp;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">In this function the decision whether a frame is received correctly or not is made.  <a href="#b0"></a><br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b0" doxytag="ErrAndCollDecider::handleLowerMsg"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ErrAndCollDecider::handleLowerMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_air_frame.html">AirFrame</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>af</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="_snr_list_8h.html#a0">SnrList</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>receivedList</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
In this function the decision whether a frame is received correctly or not is made. 
<p>
Redefine this function if you want to process messages from the channel before they are forwarded to upper layers<p>
In this function it has to be decided whether this message got lost or not. This can be done with a simple SNR threshold or with transformations of SNR into bit error probabilities...<p>
If you want to forward the message to upper layers please use <a class="el" href="class_basic_decider.html#z111_0">sendUp</a> which will decapsulate the MAC frame before sending 
<p>
Reimplemented from <a class="el" href="class_snr_decider.html#b2">SnrDecider</a>.<div class="fragment"><pre class="fragment">00028 {
00029     <span class="keywordflow">if</span> (<a class="code" href="class_snr_decider.html#b1">snrOverThreshold</a>(receivedList))
00030     {
00031         <span class="keywordflow">if</span> (af-&gt;hasBitError())
00032         {
00033             <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Message got lost due to digital channel model BAD state\n"</span>;
00034             <span class="keyword">delete</span> af;
00035         }
00036         <span class="keywordflow">else</span>
00037         {
00038             <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"Message handed on to Mac\n"</span>;
00039             <a class="code" href="class_basic_decider.html#z111_0">sendUp</a>(af);
00040         }
00041     }
00042     <span class="keywordflow">else</span>
00043     {
00044         <a class="code" href="_i_n_e_t_defs_8h.html#a1">EV</a> &lt;&lt; <span class="stringliteral">"COLLISION!\n"</span>;
00045         <span class="keyword">delete</span> af;
00046     }
00047 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_err_and_coll_decider_8h.html">ErrAndCollDecider.h</a><li><a class="el" href="_err_and_coll_decider_8cc.html">ErrAndCollDecider.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 18:22:21 2006 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
