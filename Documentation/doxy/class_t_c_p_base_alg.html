<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INET Framework for OMNeT++/OMNEST: TCPBaseAlg Class Reference</title>
<link href="opp.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>TCPBaseAlg Class Reference</h1><code>#include &lt;TCPBaseAlg.h&gt;</code>
<p>
<p>Inheritance diagram for TCPBaseAlg:
<p><center><img src="class_t_c_p_base_alg.png" usemap="#TCPBaseAlg_map" border="0" alt=""></center>
<map name="TCPBaseAlg_map">
<area href="class_t_c_p_algorithm.html" alt="TCPAlgorithm" shape="rect" coords="83,0,239,24">
<area href="class_t_c_p_no_congestion_control.html" alt="TCPNoCongestionControl" shape="rect" coords="0,112,156,136">
<area href="class_t_c_p_tahoe_reno_family.html" alt="TCPTahoeRenoFamily" shape="rect" coords="166,112,322,136">
<area href="class_t_c_p_reno.html" alt="TCPReno" shape="rect" coords="83,168,239,192">
<area href="class_t_c_p_tahoe.html" alt="TCPTahoe" shape="rect" coords="249,168,405,192">
</map>
<a href="class_t_c_p_base_alg-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Includes basic <a class="el" href="class_t_c_p.html">TCP</a> algorithms: adaptive retransmission, persist timer, keep-alive, delayed acks -- EXCLUDING congestion control. Congestion control is implemented in subclasses such as TCPTahoeAlg or TCPRenoAlg.<p>
Implements:<ul>
<li>delayed acks</li><li>Jacobson's and Karn's algorithms for adaptive retransmission</li><li>Nagle's algorithm to prevent silly window syndrome</li></ul>
<p>
To be done:<ul>
<li>persist timer, keepalive timer</li></ul>
<p>
Note: currently the timers and time calculations are done in double and NOT in Unix (200ms or 500ms) ticks. It's possible to write another <a class="el" href="class_t_c_p_algorithm.html">TCPAlgorithm</a> which uses ticks (or rather, factor out timer handling to separate methods, and redefine only those).<p>
Congestion window is set to MSS when the connection is established, and not touched after that. Subclasses may redefine any of the virtual functions here to add their congestion control code. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a0">TCPBaseAlg</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a1">~TCPBaseAlg</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a2">initialize</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a3">established</a> (bool active)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a4">connectionClosed</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a5">processTimer</a> (cMessage *timer, <a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a6">sendCommandInvoked</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a7">receivedOutOfOrderSegment</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a8">receiveSeqChanged</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a9">receivedDataAck</a> (<a class="el" href="_i_n_e_t_defs_8h.html#a6">uint32</a> firstSeqAcked)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a10">receivedDuplicateAck</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a11">receivedAckForDataNotYetSent</a> (<a class="el" href="_i_n_e_t_defs_8h.html#a6">uint32</a> seq)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a12">ackSent</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#a13">dataSent</a> (<a class="el" href="_i_n_e_t_defs_8h.html#a6">uint32</a> fromseq)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#b0">startRexmitTimer</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#b1">rttMeasurementComplete</a> (simtime_t tSent, simtime_t tAcked)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#b2">sendData</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#b3">cancelEvent</a> (cMessage *msg)</td></tr>

<tr><td colspan="2"><div class="groupHeader">Process REXMIT, PERSIST, DELAYED-ACK and KEEP-ALIVE timers</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#z144_0">processRexmitTimer</a> (<a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#z144_1">processPersistTimer</a> (<a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#z144_2">processDelayedAckTimer</a> (<a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#z144_3">processKeepAliveTimer</a> (<a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;event)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_t_c_p_base_alg_state_variables.html">TCPBaseAlgStateVariables</a> *&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p0">state</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p1">rexmitTimer</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p2">persistTimer</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p3">delayedAckTimer</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p4">keepAliveTimer</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p5">cwndVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p6">ssthreshVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p7">rttVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p8">srttVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p9">rttvarVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_base_alg.html#p10">rtoVector</a></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="TCPBaseAlg::TCPBaseAlg"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TCPBaseAlg::TCPBaseAlg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Ctor. <div class="fragment"><pre class="fragment">00090                        : <a class="code" href="class_t_c_p_algorithm.html#a0">TCPAlgorithm</a>(),
00091   <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>((<a class="code" href="class_t_c_p_base_alg_state_variables.html">TCPBaseAlgStateVariables</a> *&amp;)TCPAlgorithm::state)
00092 {
00093     <a class="code" href="class_t_c_p_base_alg.html#p1">rexmitTimer</a> = <a class="code" href="class_t_c_p_base_alg.html#p2">persistTimer</a> = <a class="code" href="class_t_c_p_base_alg.html#p3">delayedAckTimer</a> = <a class="code" href="class_t_c_p_base_alg.html#p4">keepAliveTimer</a> = NULL;
00094     <a class="code" href="class_t_c_p_base_alg.html#p5">cwndVector</a> = <a class="code" href="class_t_c_p_base_alg.html#p6">ssthreshVector</a> = <a class="code" href="class_t_c_p_base_alg.html#p7">rttVector</a> = <a class="code" href="class_t_c_p_base_alg.html#p8">srttVector</a> = <a class="code" href="class_t_c_p_base_alg.html#p9">rttvarVector</a> = <a class="code" href="class_t_c_p_base_alg.html#p10">rtoVector</a> = NULL;
00095 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="TCPBaseAlg::~TCPBaseAlg"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TCPBaseAlg::~<a class="el" href="class_t_c_p_base_alg.html">TCPBaseAlg</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Virtual dtor. <div class="fragment"><pre class="fragment">00098 {
00099     <span class="comment">// Note: don't delete "state" here, it'll be deleted from TCPConnection</span>
00100 
00101     <span class="comment">// cancel and delete timers</span>
00102     <span class="keywordflow">if</span> (rexmitTimer)     delete cancelEvent(rexmitTimer);
00103     if (persistTimer)    delete cancelEvent(persistTimer);
00104     if (delayedAckTimer) delete cancelEvent(delayedAckTimer);
00105     if (keepAliveTimer)  delete cancelEvent(keepAliveTimer);
00106 
00107     <span class="comment">// delete statistics objects</span>
00108     delete cwndVector;
00109     delete ssthreshVector;
00110     delete rttVector;
00111     delete srttVector;
00112     delete rttvarVector;
00113     delete rtoVector;
00114 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a12" doxytag="TCPBaseAlg::ackSent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::ackSent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after we sent an ACK. This hook can be used to cancel the delayed-ACK timer. 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a14">TCPAlgorithm</a>.<div class="fragment"><pre class="fragment">00417 {
00418     <span class="comment">// if delayed ACK timer is running, cancel it</span>
00419     <span class="keywordflow">if</span> (<a class="code" href="class_t_c_p_base_alg.html#p3">delayedAckTimer</a>-&gt;isScheduled())
00420         <a class="code" href="class_t_c_p_base_alg.html#b3">cancelEvent</a>(delayedAckTimer);
00421 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b3" doxytag="TCPBaseAlg::cancelEvent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage* TCPBaseAlg::cancelEvent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Utility function <div class="fragment"><pre class="fragment">00133 {<span class="keywordflow">return</span> <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#z153_5">getTcpMain</a>()-&gt;cancelEvent(msg);}
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="TCPBaseAlg::connectionClosed"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::connectionClosed           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called when the connection closes, it should cancel all running timers. 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a6">TCPAlgorithm</a>.<div class="fragment"><pre class="fragment">00158 {
00159     <a class="code" href="class_t_c_p_base_alg.html#b3">cancelEvent</a>(rexmitTimer);
00160     <a class="code" href="class_t_c_p_base_alg.html#b3">cancelEvent</a>(persistTimer);
00161     <a class="code" href="class_t_c_p_base_alg.html#b3">cancelEvent</a>(delayedAckTimer);
00162     <a class="code" href="class_t_c_p_base_alg.html#b3">cancelEvent</a>(keepAliveTimer);
00163 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="TCPBaseAlg::dataSent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::dataSent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="_i_n_e_t_defs_8h.html#a6">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fromseq</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after we sent data. This hook can be used to schedule the retransmission timer, to start round-trip time measurement, etc. The argument is the seqno of the first byte sent. 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a15">TCPAlgorithm</a>.<div class="fragment"><pre class="fragment">00424 {
00425     <span class="comment">// if retransmission timer not running, schedule it</span>
00426     <span class="keywordflow">if</span> (!<a class="code" href="class_t_c_p_base_alg.html#p1">rexmitTimer</a>-&gt;isScheduled())
00427     {
00428         <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"Starting REXMIT timer\n"</span>;
00429         <a class="code" href="class_t_c_p_base_alg.html#b0">startRexmitTimer</a>();
00430     }
00431 
00432     <span class="comment">// start round-trip time measurement (if not already running)</span>
00433     <span class="keywordflow">if</span> (<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_1">rtseq_sendtime</a>==0)
00434     {
00435         <span class="comment">// remember this sequence number and when it was sent</span>
00436         <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_0">rtseq</a> = fromseq;
00437         <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_1">rtseq_sendtime</a> = <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#z153_5">getTcpMain</a>()-&gt;simTime();
00438         <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"Starting rtt measurement on seq="</span> &lt;&lt; <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_0">rtseq</a> &lt;&lt; <span class="stringliteral">"\n"</span>;
00439     }
00440 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="TCPBaseAlg::established"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::established           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>active</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called when the connection is going to ESTABLISHED from SYN_SENT or SYN_RCVD. This is a place to initialize some variables (e.g. set cwnd to the MSS learned during connection setup). If we are on the active side, here we also have to finish the 3-way connection setup procedure by sending an ACK, possibly piggybacked on data. 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a5">TCPAlgorithm</a>.<div class="fragment"><pre class="fragment">00142 {
00143     <span class="comment">// initialize cwnd (we may learn MSS during connection setup --</span>
00144     <span class="comment">// this (MSS TCP option) is not implemented yet though)</span>
00145     <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z140_0">snd_cwnd</a> = <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o2">snd_mss</a>;
00146     <span class="keywordflow">if</span> (cwndVector) cwndVector-&gt;record(state-&gt;snd_cwnd);
00147 
00148     if (active)
00149     {
00150         <span class="comment">// finish connection setup with ACK (possibly piggybacked on data)</span>
00151         <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"Completing connection setup by sending ACK (possibly piggybacked on data)\n"</span>;
00152         <span class="keywordflow">if</span> (!<a class="code" href="class_t_c_p_base_alg.html#b2">sendData</a>())
00153             conn-&gt;sendAck();
00154     }
00155 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="TCPBaseAlg::initialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create timers, etc. 
<p>
Reimplemented from <a class="el" href="class_t_c_p_algorithm.html#a4">TCPAlgorithm</a>.
<p>
Reimplemented in <a class="el" href="class_t_c_p_no_congestion_control.html#a1">TCPNoCongestionControl</a>.<div class="fragment"><pre class="fragment">00117 {
00118     <a class="code" href="class_t_c_p_algorithm.html#a4">TCPAlgorithm::initialize</a>();
00119 
00120     <a class="code" href="class_t_c_p_base_alg.html#p1">rexmitTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">"REXMIT"</span>);
00121     <a class="code" href="class_t_c_p_base_alg.html#p2">persistTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">"PERSIST"</span>);
00122     <a class="code" href="class_t_c_p_base_alg.html#p3">delayedAckTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">"DELAYEDACK"</span>);
00123     <a class="code" href="class_t_c_p_base_alg.html#p4">keepAliveTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">"KEEPALIVE"</span>);
00124 
00125     <a class="code" href="class_t_c_p_base_alg.html#p1">rexmitTimer</a>-&gt;setContextPointer(conn);
00126     <a class="code" href="class_t_c_p_base_alg.html#p2">persistTimer</a>-&gt;setContextPointer(conn);
00127     <a class="code" href="class_t_c_p_base_alg.html#p3">delayedAckTimer</a>-&gt;setContextPointer(conn);
00128     <a class="code" href="class_t_c_p_base_alg.html#p4">keepAliveTimer</a>-&gt;setContextPointer(conn);
00129 
00130     <span class="keywordflow">if</span> (<a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#z153_5">getTcpMain</a>()-&gt;<a class="code" href="class_t_c_p.html#o0">recordStatistics</a>)
00131     {
00132         <a class="code" href="class_t_c_p_base_alg.html#p5">cwndVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">"cwnd"</span>);
00133         <a class="code" href="class_t_c_p_base_alg.html#p6">ssthreshVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">"ssthresh"</span>);
00134         <a class="code" href="class_t_c_p_base_alg.html#p7">rttVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">"measured RTT"</span>);
00135         <a class="code" href="class_t_c_p_base_alg.html#p8">srttVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">"smoothed RTT"</span>);
00136         <a class="code" href="class_t_c_p_base_alg.html#p9">rttvarVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">"RTTVAR"</span>);
00137         <a class="code" href="class_t_c_p_base_alg.html#p10">rtoVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">"RTO"</span>);
00138     }
00139 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z144_2" doxytag="TCPBaseAlg::processDelayedAckTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::processDelayedAckTimer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>event</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00236 {
00237     <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#a0">sendAck</a>();
00238 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z144_3" doxytag="TCPBaseAlg::processKeepAliveTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::processKeepAliveTimer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>event</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00241 {
00242     <span class="comment">// FIXME TBD</span>
00243 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z144_1" doxytag="TCPBaseAlg::processPersistTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::processPersistTimer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>event</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00230 {
00231     <span class="comment">// FIXME TBD finish (currently Persist Timer never gets scheduled)</span>
00232     <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#a2">sendProbe</a>();
00233 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="z144_0" doxytag="TCPBaseAlg::processRexmitTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::processRexmitTimer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>event</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented in <a class="el" href="class_t_c_p_no_congestion_control.html#b1">TCPNoCongestionControl</a>, <a class="el" href="class_t_c_p_reno.html#b2">TCPReno</a>, and <a class="el" href="class_t_c_p_tahoe.html#b2">TCPTahoe</a>.<div class="fragment"><pre class="fragment">00180 {
00181     <span class="comment">//"</span>
00182     <span class="comment">// For any state if the retransmission timeout expires on a segment in</span>
00183     <span class="comment">// the retransmission queue, send the segment at the front of the</span>
00184     <span class="comment">// retransmission queue again, reinitialize the retransmission timer,</span>
00185     <span class="comment">// and return.</span>
00186     <span class="comment">//"</span>
00187     <span class="comment">// Also: abort connection after max 12 retries.</span>
00188     <span class="comment">//</span>
00189     <span class="comment">// However, retransmission is actually more complicated than that</span>
00190     <span class="comment">// in RFC 793 above, we'll leave it to subclasses (e.g. TCPTahoe, TCPReno).</span>
00191     <span class="comment">//</span>
00192     <span class="keywordflow">if</span> (++<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z139_0">rexmit_count</a> &gt; MAX_REXMIT_COUNT)
00193     {
00194         <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"Retransmission count exceeds "</span> &lt;&lt; <a class="code" href="_t_c_p_base_alg_8cc.html#a1">MAX_REXMIT_COUNT</a> &lt;&lt; <span class="stringliteral">", aborting connection\n"</span>;
00195         <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#a10">signalConnectionTimeout</a>();
00196         event = <a class="code" href="_t_c_p_connection_8h.html#a41a23">TCP_E_ABORT</a>;  <span class="comment">// TBD maybe rather introduce a TCP_E_TIMEDOUT event</span>
00197         <span class="keywordflow">return</span>;
00198     }
00199 
00200     <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"Performing retransmission #"</span> &lt;&lt; <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z139_0">rexmit_count</a>
00201           &lt;&lt; <span class="stringliteral">"; increasing RTO from "</span> &lt;&lt; <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z139_1">rexmit_timeout</a> &lt;&lt; <span class="stringliteral">"s "</span>;
00202 
00203     <span class="comment">//</span>
00204     <span class="comment">// Karn's algorithm is implemented below:</span>
00205     <span class="comment">//  (1) don't measure RTT for retransmitted packets.</span>
00206     <span class="comment">//  (2) RTO should be doubled after retransmission ("exponential back-off")</span>
00207     <span class="comment">//</span>
00208 
00209     <span class="comment">// restart the retransmission timer with twice the latest RTO value, or with the max, whichever is smaller</span>
00210     <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z139_1">rexmit_timeout</a> += <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z139_1">rexmit_timeout</a>;
00211     <span class="keywordflow">if</span> (<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z139_1">rexmit_timeout</a> &gt; MAX_REXMIT_TIMEOUT)
00212         state-&gt;rexmit_timeout = MAX_REXMIT_TIMEOUT;
00213     conn-&gt;scheduleTimeout(rexmitTimer, state-&gt;rexmit_timeout);
00214 
00215     tcpEV &lt;&lt; " to " &lt;&lt; state-&gt;rexmit_timeout &lt;&lt; "s, and cancelling RTT measurement\n";
00216 
00217     <span class="comment">// cancel round-trip time measurement</span>
00218     state-&gt;rtseq_sendtime = 0;
00219 
00220     <span class="comment">//</span>
00221     <span class="comment">// Leave congestion window management and actual retransmission to</span>
00222     <span class="comment">// subclasses (e.g. TCPTahoe, TCPReno).</span>
00223     <span class="comment">//</span>
00224     <span class="comment">// That is, subclasses will redefine this method, call us, then perform</span>
00225     <span class="comment">// window adjustments and do the retransmission as they like.</span>
00226     <span class="comment">//</span>
00227 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="TCPBaseAlg::processTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::processTimer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname" nowrap> <em>timer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="_t_c_p_connection_8h.html#a41">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process REXMIT, PERSIST, DELAYED-ACK and KEEP-ALIVE timers. 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a7">TCPAlgorithm</a>.<div class="fragment"><pre class="fragment">00166 {
00167     <span class="keywordflow">if</span> (timer==rexmitTimer)
00168         processRexmitTimer(event);
00169     else if (timer==persistTimer)
00170         processPersistTimer(event);
00171     else if (timer==delayedAckTimer)
00172         processDelayedAckTimer(event);
00173     else if (timer==keepAliveTimer)
00174         processKeepAliveTimer(event);
00175     else
00176         throw new cException(timer, "unrecognized timer");
00177 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="TCPBaseAlg::receivedAckForDataNotYetSent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::receivedAckForDataNotYetSent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="_i_n_e_t_defs_8h.html#a6">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>seq</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after we received an ACK for data not yet sent. According to RFC 793 this function should send an ACK. 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a13">TCPAlgorithm</a>.<div class="fragment"><pre class="fragment">00411 {
00412     <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"ACK acks something not yet sent, sending immediate ACK\n"</span>;
00413     <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#a0">sendAck</a>();
00414 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="TCPBaseAlg::receivedDataAck"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::receivedDataAck           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="_i_n_e_t_defs_8h.html#a6">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>firstSeqAcked</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after we received an ACK which acked some data (that is, we could advance snd_una). At this point the state variables (snd_una, snd_wnd) have already been updated. The argument firstSeqAcked is the previous snd_una value, that is, the number of bytes acked is (snd_una-firstSeqAcked). The dupack counter still reflects the old value (needed for Reno and NewReno); it'll be reset to 0 after this call returns. 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a11">TCPAlgorithm</a>.
<p>
Reimplemented in <a class="el" href="class_t_c_p_no_congestion_control.html#a2">TCPNoCongestionControl</a>, <a class="el" href="class_t_c_p_reno.html#a1">TCPReno</a>, and <a class="el" href="class_t_c_p_tahoe.html#a1">TCPTahoe</a>.<div class="fragment"><pre class="fragment">00347 {
00348     <span class="comment">// if round-trip time measurement is running, check if rtseq has been acked</span>
00349     <span class="keywordflow">if</span> (<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_1">rtseq_sendtime</a>!=0 &amp;&amp; <a class="code" href="_t_c_p_connection_8h.html#a36">seqLess</a>(<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_0">rtseq</a>, <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o3">snd_una</a>))
00350     {
00351         <span class="comment">// print value</span>
00352         <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"Round-trip time measured on rtseq="</span> &lt;&lt; <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_0">rtseq</a> &lt;&lt; <span class="stringliteral">": "</span>
00353               &lt;&lt; int((<a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#z153_5">getTcpMain</a>()-&gt;simTime() - <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_1">rtseq_sendtime</a>)*1000+0.5) &lt;&lt; <span class="stringliteral">"ms\n"</span>;
00354 
00355         <span class="comment">// update RTT variables with new value</span>
00356         <a class="code" href="class_t_c_p_base_alg.html#b1">rttMeasurementComplete</a>(<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_1">rtseq_sendtime</a>, <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#z153_5">getTcpMain</a>()-&gt;simTime());
00357 
00358         <span class="comment">// measurement finished</span>
00359         <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z141_1">rtseq_sendtime</a> = 0;
00360     }
00361 
00362     <span class="comment">//</span>
00363     <span class="comment">// handling of retransmission timer: if the ACK is for the last segment sent</span>
00364     <span class="comment">// (no data in flight), cancel the timer, otherwise restart the timer</span>
00365     <span class="comment">// with the current RTO value.</span>
00366     <span class="comment">//</span>
00367     <span class="keywordflow">if</span> (<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o3">snd_una</a>==<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o5">snd_max</a>)
00368     {
00369         <span class="keywordflow">if</span> (<a class="code" href="class_t_c_p_base_alg.html#p1">rexmitTimer</a>-&gt;isScheduled())
00370         {
00371             <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"ACK acks all outstanding segments, cancel REXMIT timer\n"</span>;
00372             <a class="code" href="class_t_c_p_base_alg.html#b3">cancelEvent</a>(rexmitTimer);
00373         }
00374         <span class="keywordflow">else</span>
00375         {
00376             <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"There were no outstanding segments, nothing new in this ACK.\n"</span>;
00377         }
00378     }
00379     <span class="keywordflow">else</span>
00380     {
00381         <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"ACK acks some but not all outstanding segments ("</span>
00382               &lt;&lt; (<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o5">snd_max</a> - <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o3">snd_una</a>) &lt;&lt; <span class="stringliteral">" bytes outstanding), "</span>
00383               &lt;&lt; <span class="stringliteral">"restarting REXMIT timer\n"</span>;
00384         <a class="code" href="class_t_c_p_base_alg.html#b3">cancelEvent</a>(rexmitTimer);
00385         <a class="code" href="class_t_c_p_base_alg.html#b0">startRexmitTimer</a>();
00386     }
00387 
00388     <span class="comment">//</span>
00389     <span class="comment">// Leave congestion window management and possible sending data to</span>
00390     <span class="comment">// subclasses (e.g. TCPTahoe, TCPReno).</span>
00391     <span class="comment">//</span>
00392     <span class="comment">// That is, subclasses will redefine this method, call us, then perform</span>
00393     <span class="comment">// window adjustments and send data (if there's room in the window).</span>
00394     <span class="comment">//</span>
00395 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="TCPBaseAlg::receivedDuplicateAck"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::receivedDuplicateAck           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after we received a duplicate ACK (that is: ackNo==snd_una, no data in segment, segment doesn't carry window update, and also, we have unacked data). The dupack counter got already updated when calling this method (i.e. dupack==1 on first duplicate ACK.) 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a12">TCPAlgorithm</a>.
<p>
Reimplemented in <a class="el" href="class_t_c_p_reno.html#a2">TCPReno</a>, and <a class="el" href="class_t_c_p_tahoe.html#a2">TCPTahoe</a>.<div class="fragment"><pre class="fragment">00398 {
00399     <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"Duplicate ACK #"</span> &lt;&lt; <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o15">dupacks</a> &lt;&lt; <span class="stringliteral">"\n"</span>;
00400 
00401     <span class="comment">//</span>
00402     <span class="comment">// Leave to subclasses (e.g. TCPTahoe, TCPReno) whatever they want to do</span>
00403     <span class="comment">// on duplicate Acks.</span>
00404     <span class="comment">//</span>
00405     <span class="comment">// That is, subclasses will redefine this method, call us, then perform</span>
00406     <span class="comment">// whatever action they want to do on dupAcks (e.g. retransmitting one segment).</span>
00407     <span class="comment">//</span>
00408 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="TCPBaseAlg::receivedOutOfOrderSegment"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::receivedOutOfOrderSegment           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after receiving data which are in the window, but not at its left edge (seq!=rcv_nxt). This indicates that either segments got re-ordered in the way, or one segment was lost. RFC1122 and RFC2001 recommend sending an immediate ACK here (Fast Retransmit relies on that). 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a9">TCPAlgorithm</a>.<div class="fragment"><pre class="fragment">00324 {
00325     <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"Out-of-order segment, sending immediate ACK\n"</span>;
00326     <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#a0">sendAck</a>();
00327 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="TCPBaseAlg::receiveSeqChanged"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::receiveSeqChanged           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after rcv_nxt got advanced, either because we received in-sequence data ("text" in RFC 793 lingo) or a FIN. At this point, rcv_nxt has already been updated. This method should take care to send or schedule an ACK some time. 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a10">TCPAlgorithm</a>.<div class="fragment"><pre class="fragment">00330 {
00331     <span class="keywordflow">if</span> (!<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z138_0">delayed_acks_enabled</a>)
00332     {
00333         <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"rcv_nxt changed to "</span> &lt;&lt; <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o11">rcv_nxt</a> &lt;&lt; <span class="stringliteral">", sending ACK now (delayed ACKs are disabled)\n"</span>;
00334         <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#a0">sendAck</a>();
00335     }
00336     <span class="keywordflow">else</span>
00337     {
00338         <span class="comment">// FIXME ACK should be generated for at least every second SMSS-sized segment!</span>
00339         <span class="comment">// schedule delayed ACK timer if not already running</span>
00340         <a class="code" href="_t_c_p_8h.html#a0">tcpEV</a> &lt;&lt; <span class="stringliteral">"rcv_nxt changed to "</span> &lt;&lt; <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o11">rcv_nxt</a> &lt;&lt; <span class="stringliteral">", scheduling ACK\n"</span>;
00341         <span class="keywordflow">if</span> (!<a class="code" href="class_t_c_p_base_alg.html#p3">delayedAckTimer</a>-&gt;isScheduled())
00342             <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#a11">scheduleTimeout</a>(delayedAckTimer, DELAYED_ACK_TIMEOUT);
00343     }
00344 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="TCPBaseAlg::rttMeasurementComplete"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::rttMeasurementComplete           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">simtime_t&nbsp;</td>
          <td class="mdname" nowrap> <em>tSent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>simtime_t&nbsp;</td>
          <td class="mdname" nowrap> <em>tAcked</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Update state vars with new measured RTT value. Passing two simtime_t's will allow <a class="el" href="class_t_c_p_base_alg.html#b1">rttMeasurementComplete()</a> to do calculations in double or in 200ms/500ms ticks, as needed) <div class="fragment"><pre class="fragment">00256 {
00257     <span class="comment">//</span>
00258     <span class="comment">// Jacobson's algorithm for estimating RTT and adaptively setting RTO.</span>
00259     <span class="comment">//</span>
00260     <span class="comment">// Note: this implementation calculates in doubles. An impl. which uses</span>
00261     <span class="comment">// 500ms ticks is available from old tcpmodule.cc:calcRetransTimer().</span>
00262     <span class="comment">//</span>
00263 
00264     <span class="comment">// update smoothed RTT estimate (srtt) and variance (rttvar)</span>
00265     <span class="keyword">const</span> <span class="keywordtype">double</span> g = 0.125;   <span class="comment">// 1/8; (1-alpha) where alpha=7/8;</span>
00266     <span class="keywordtype">double</span> newRTT = tAcked-tSent;
00267 
00268     <span class="keywordtype">double</span>&amp; srtt = <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z142_0">srtt</a>;
00269     <span class="keywordtype">double</span>&amp; rttvar = <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z142_1">rttvar</a>;
00270 
00271     <span class="keywordtype">double</span> err = newRTT - srtt;
00272 
00273     srtt += g*err;
00274     rttvar += g*(fabs(err) - rttvar);
00275 
00276     <span class="comment">// assign RTO (here: rexmit_timeout) a new value</span>
00277     <span class="keywordtype">double</span> rto = srtt + 4*rttvar;
00278     <span class="keywordflow">if</span> (rto&gt;MAX_REXMIT_TIMEOUT)
00279         rto = MAX_REXMIT_TIMEOUT;
00280     else if (rto&lt;MIN_REXMIT_TIMEOUT)
00281         rto = MIN_REXMIT_TIMEOUT;
00282 
00283     state-&gt;rexmit_timeout = rto;
00284 
00285     <span class="comment">// record statistics</span>
00286     tcpEV &lt;&lt; "Measured RTT=" &lt;&lt; (newRTT*1000) &lt;&lt; "ms, updated SRTT=" &lt;&lt; (srtt*1000)
00287           &lt;&lt; "ms, new RTO=" &lt;&lt; (rto*1000) &lt;&lt; "ms\n";
00288     if (rttVector) rttVector-&gt;record(newRTT);
00289     if (srttVector) srttVector-&gt;record(srtt);
00290     if (rttvarVector) rttvarVector-&gt;record(rttvar);
00291     if (rtoVector) rtoVector-&gt;record(rto);
00292 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="TCPBaseAlg::sendCommandInvoked"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::sendCommandInvoked           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after user sent TCP_C_SEND command to us. 
<p>
Implements <a class="el" href="class_t_c_p_algorithm.html#a8">TCPAlgorithm</a>.<div class="fragment"><pre class="fragment">00318 {
00319     <span class="comment">// try sending</span>
00320     <a class="code" href="class_t_c_p_base_alg.html#b2">sendData</a>();
00321 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="TCPBaseAlg::sendData"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool TCPBaseAlg::sendData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send data, observing Nagle's algorithm and congestion window <div class="fragment"><pre class="fragment">00295 {
00296     <span class="comment">//</span>
00297     <span class="comment">// Nagle's algorithm: when a TCP connection has outstanding data that has not</span>
00298     <span class="comment">// yet been acknowledged, small segments cannot be sent until the outstanding</span>
00299     <span class="comment">// data is acknowledged. (In this case, small amounts of data are collected</span>
00300     <span class="comment">// by TCP and sent in a single segment.)</span>
00301     <span class="comment">//</span>
00302     <span class="comment">// FIXME there's also something like this: can still send if</span>
00303     <span class="comment">// "b) a segment that can be sent is at least half the size of</span>
00304     <span class="comment">// the largest window ever advertised by the receiver"</span>
00305 
00306     <span class="keywordtype">bool</span> fullSegmentsOnly = <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z138_1">nagle_enabled</a> &amp;&amp; <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o3">snd_una</a>!=<a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_state_variables.html#o5">snd_max</a>;
00307     <span class="keywordflow">if</span> (fullSegmentsOnly)
00308         tcpEV &lt;&lt; "Nagle is enabled and there's unacked data: only full segments will be sent\n";
00309 
00310     <span class="comment">//</span>
00311     <span class="comment">// Send window is effectively the minimum of the congestion window (cwnd)</span>
00312     <span class="comment">// and the advertised window (snd_wnd).</span>
00313     <span class="comment">//</span>
00314     return conn-&gt;sendData(fullSegmentsOnly, state-&gt;snd_cwnd);
00315 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="TCPBaseAlg::startRexmitTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TCPBaseAlg::startRexmitTimer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Start REXMIT timer and initialize retransmission variables <div class="fragment"><pre class="fragment">00246 {
00247     <span class="comment">// start counting retransmissions for this seq number.</span>
00248     <span class="comment">// Note: state-&gt;rexmit_timeout is set from rttMeasurementComplete().</span>
00249     <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z139_0">rexmit_count</a> = 0;
00250 
00251     <span class="comment">// schedule timer</span>
00252     <a class="code" href="class_t_c_p_algorithm.html#p0">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#a11">scheduleTimeout</a>(rexmitTimer, <a class="code" href="class_t_c_p_base_alg.html#p0">state</a>-&gt;<a class="code" href="class_t_c_p_base_alg_state_variables.html#z139_1">rexmit_timeout</a>);
00253 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="p5" doxytag="TCPBaseAlg::cwndVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector* <a class="el" href="class_t_c_p_base_alg.html#p5">TCPBaseAlg::cwndVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p3" doxytag="TCPBaseAlg::delayedAckTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage* <a class="el" href="class_t_c_p_base_alg.html#p3">TCPBaseAlg::delayedAckTimer</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p4" doxytag="TCPBaseAlg::keepAliveTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage* <a class="el" href="class_t_c_p_base_alg.html#p4">TCPBaseAlg::keepAliveTimer</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p2" doxytag="TCPBaseAlg::persistTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage* <a class="el" href="class_t_c_p_base_alg.html#p2">TCPBaseAlg::persistTimer</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p1" doxytag="TCPBaseAlg::rexmitTimer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cMessage* <a class="el" href="class_t_c_p_base_alg.html#p1">TCPBaseAlg::rexmitTimer</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p10" doxytag="TCPBaseAlg::rtoVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector* <a class="el" href="class_t_c_p_base_alg.html#p10">TCPBaseAlg::rtoVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p9" doxytag="TCPBaseAlg::rttvarVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector* <a class="el" href="class_t_c_p_base_alg.html#p9">TCPBaseAlg::rttvarVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p7" doxytag="TCPBaseAlg::rttVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector* <a class="el" href="class_t_c_p_base_alg.html#p7">TCPBaseAlg::rttVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p8" doxytag="TCPBaseAlg::srttVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector* <a class="el" href="class_t_c_p_base_alg.html#p8">TCPBaseAlg::srttVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p6" doxytag="TCPBaseAlg::ssthreshVector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">cOutVector* <a class="el" href="class_t_c_p_base_alg.html#p6">TCPBaseAlg::ssthreshVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p0" doxytag="TCPBaseAlg::state"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="class_t_c_p_base_alg_state_variables.html">TCPBaseAlgStateVariables</a>*&amp; <a class="el" href="class_t_c_p_base_alg.html#p0">TCPBaseAlg::state</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented from <a class="el" href="class_t_c_p_algorithm.html#p1">TCPAlgorithm</a>.
<p>
Reimplemented in <a class="el" href="class_t_c_p_no_congestion_control.html#p0">TCPNoCongestionControl</a>, <a class="el" href="class_t_c_p_reno.html#p0">TCPReno</a>, <a class="el" href="class_t_c_p_tahoe.html#p0">TCPTahoe</a>, and <a class="el" href="class_t_c_p_tahoe_reno_family.html#p0">TCPTahoeRenoFamily</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_t_c_p_base_alg_8h.html">TCPBaseAlg.h</a><li><a class="el" href="_t_c_p_base_alg_8cc.html">TCPBaseAlg.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 19 18:22:30 2006 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
